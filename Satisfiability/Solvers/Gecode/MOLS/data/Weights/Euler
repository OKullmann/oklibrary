# Oleg Zaikin, 21.12.2021 (Swansea)

Choice of benchmarks for optimisation of the weights.
In all examples below Euler works in the mode of finding one solution.
The experiments were run on the okserver, tge version of Euler is 0.9.10.


A)

Order 5.

For N=5, m=8, among 1000 instances generated via LSRG there are about 50 %
unsatisfiable instances. The maximal number of leaves is 4, e.g. on seed 138:
> LSRG 5,2 "-co" "1*0,0,8;1*0,0,0" 1628808251117432880,1628808263227713690,0,138 | python symmetry-breaking-pair.py | Euler 0 0 la,val
N k m1 m2 brt brsrc brm brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
5 2 11 5 la val mu0 one eager prun dom 0.0240 0 5 1 0 0 4 4 0 6 5 56 466 0.0236 0.0006 0.0029 0.0002 Euler 0.9.10

4 leaves is too small for optimisation.

If the first Latin square is completely unfilled, i.e.
> Euler 5 2 la,val
then there is only 1 leaf.


B)

Order 6.

The following instance can be used:

> LSRG 6,2 "-co" "1*0,0,12;1*0,0,0" 1628808251117432880,1628808263227713690,0,0 | python symmetry-breaking-pair.py

6 2

* * 4 3 1 *
5 * * * 2 4
* * * * * *
* * * * * *
3 * * * 0 *
1 * * 5 4 3

0 1 2 3 4 5
* * * * * *
* * * * * *
* * * * * *
* * * * * *
* * * * * *

This is stored as
  data/weights/testN6

> LSRG 6,2 "-co" "1*0,0,12;1*0,0,0" 1628808251117432880,1628808263227713690,0,0 | python symmetry-breaking-pair.py | Euler 0 0 la,val
N k m1 m2 brt brsrc brm brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
6 2 12 6 la val mu0 one eager prun dom 1.9386 0 575 188 81 16 387 387 0 677 575 10919 84121 1.9242 0.0440 0.2643 0.0002 Euler 0.9.10

There are 387 leaves if mu0 is used.


Optmizing weights.

program name:       Euler_BBOpt
 version:           0.1.2
 last change:       24.12.2021
 git-id:            57d8f7524ef18bd5c9dc07f14b370a0f68e8def4
machine name:       oleg-vm
 bogomips:          4788.92
compiler version:   g++ 11.2.0
 date:              Dec_24_2021 23:38:33
 options:           "--std=c++20 -pedantic -Ofast -DNDEBUG -march=native -fwhole-program -fno-math-errno -fno-trapping-math -fno-rounding-math -fno-signaling-nans -fno-unsafe-math-optimizations -fno-finite-math-only -fno-associative-math -fno-reciprocal-math -fsigned-zeros -pthread -lgecodesearch -lgecodeint -lgecodekernel -lgecodesupport"
 NDEBUG:            defined
 OPTIMIZE:          on

> time cat ./data/weights/testN6 | ./Euler_BBOpt 1 1 1 1 ./data/weights/Para0 val dom
(1,100,100,100,6),78

real	0m16,806s
user	0m15,489s
sys	    0m1,011s

So the best set of weights is (1,100,100,100,6) with 78 leaves.

Addition: Now with version 0.2.0:
MOLS> time cat ./data/weights/testN6 | ./Euler_BBOpt 10 2 3 1 data/weights/Para2 val dom
(12.5047,104.99320000000000001,99.999999999999999993,500.05000000000000002),77

real	3m10.894s
user	3m2.009s
sys	0m8.829s

For these small leaf-numbers no meaningful weight-optimisation is possible.


No known values are given, but the symmetry breaking is applied:

LSRG 6,2 "-co" "1*0,0,0;1*0,0,0" 1628808251117432880,1628808263227713690,0,0 | python symmetry-breaking-pair.py > data/Weights/testN6_2

The instance is:

0 1 2 3 4 5
1 * * * * *
2 * * * * *
3 * * * * *
4 * * * * *
5 * * * * *

0 1 2 3 4 5
* * * * * *
* * * * * *
* * * * * *
* * * * * *
* * * * * *

The problem is to prove that no MOLS of order 6 exist.
This instance is more sutable for the weigths optimisation since the number
of leaves is about 3-4 thousand and is can be solved
in reasonable time (20-30 seconds).

Exploration:

MOLS> cat data/Weights/testN6_2 | time ./Euler_BBOpt 10 1 1 1 data/Weights/ParaN6_scan val dom
(120.05999999999999999778,0.10000000000000000000,150.05000000000000000278,150.05000000000000000278),2832.00000000000000000000
15315.78user 791.42system 4:28:28elapsed 99%CPU (0avgtext+0avgdata 6208maxresident)k
0inputs+0outputs (0major+6407minor)pagefaults 0swaps
Recomputation with newer version yields same result:
MOLS> cat data/Weights/testN6_2 | time ./Euler_BBOpt 10 1 1 1 data/Weights/ParaN6_scan val dom
(120.05999999999999999778,0.10000000000000000000,150.05000000000000000278,150.05000000000000000278),2832.00000000000000000000
15179.13user 777.05system 4:25:57elapsed 99%CPU (0avgtext+0avgdata 6156maxresident)k
0inputs+0outputs (0major+542minor)pagefaults 0swaps

Rerunning with parallel version:
MOLS> cat data/Weights/testN6_2 | time ./Euler_BBOpt 10 1 1 9 data/Weights/ParaN6_scan val dom
(120.05999999999999999778,0.10000000000000000000,150.05000000000000000278,150.05000000000000000278),2832.00000000000000000000
88327.98user 102087.49system 6:30:00elapsed 813%CPU (0avgtext+0avgdata 12016maxresident)k
0inputs+0outputs (0major+6394minor)pagefaults 0swaps

Something is wrong here! The system-time seems to destroy performance.


MOLS> cat data/Weights/testN6_2 | time ./Euler_BBOpt 20 2 8 1 ./data/Weights/ParaN6_best val dom
(116.25124999999999999417,0.08010841796875000001,150.00000000000000000000,150.00000000000000000000),2832.00000000000000000000
16977.19user 847.79system 4:57:06elapsed 99%CPU (0avgtext+0avgdata 6248maxresident)k
0inputs+0outputs (0major+22749minor)pagefaults 0swaps

No further improvement.


Current best weights and number of leaves :


Set 1, obtained for testN6_2:

   116.25124999999999999417,
   0.08010841796875000001,
   150,
   150,

   2832

MOLS> cat ./data/Weights/testN6_2 | ./Euler 0 0 val "" dom 116.25124999999999999417,0.08010841796875000001,150,150
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
6 2 11 6 la val one eager prun dom 13.4069 0 5085 2253 1940 48 2832 2832 0 7674 5085 102989 1014664 13.3241 0.4664 2.5880 0.0000 Euler 0.12.2


For comparison:

MOLS> cat ./data/Weights/testN6_2 | ./Euler 0 0 mindr,val "" dom 116.25124999999999999417,0.08010841796875000001,150,150
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
6 2 11 6 mindr val one eager prun dom 53.2956 0 56347 18715 9208 98 37632 37632 0 57311 56347 0 3907369 52.4977 0.0000 8.9059 0.0001 Euler 0.12.2

MOLS> cat ./data/Weights/testN6_2 | ./Euler 0 0 mind,val "" dom 116.25124999999999999417,0.08010841796875000001,150,150

N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
6 2 11 6 mind val one eager prun dom 14.2110 0 1187407 560917 504754 46754 626490 626490 0 0 560917 0 0 0.3803 0.0000 0.0000 0.0001 Euler 0.12.2



Binary branching:

MOLS> cat data/Weights/testN6_2 | time ./Euler_BBOpt 10 1 1 1 data/Weights/ParaN6_scan eq dom
(270.01000000000000000888,180.03999999999999999389,120.05999999999999999778,150.05000000000000000278),3077.00000000000000000000
34094.40user 2205.49system 10:05:25elapsed 99%CPU (0avgtext+0avgdata 6692maxresident)k
0inputs+0outputs (0major+3525minor)pagefaults 0swaps

MOLS> cat data/Weights/testN6_2 | time ./Euler 0 0 eq "" dom 270.01000000000000000888,180.03999999999999999389,120.05999999999999999778,150.05000000000000000278
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
6 2 11 6 la eq one eager prun dom 22.1117 0 6153 3076 0 3076 0 3077 3077 0 5617 6153 508903 1876612 22.0261 1.4156 4.8196 0.0000 Euler 0.13.2
22.11user 1.34system 0:23.45elapsed 99%CPU (0avgtext+0avgdata 6800maxresident)k
0inputs+0outputs (0major+382minor)pagefaults 0swaps

Leaf-count similar to value-branching, but the weights seem very different.

Refining:
MOLS> cat data/Weights/testN6_2 | time ./Euler_BBOpt 10 1 8 1 data/Weights/ParaN6_eq_1 "" eq dom
(264.61937500000000000888,181.13374999999999999389,111.07562499999999999778,180.00000000000000000000),2957.00000000000000000000
6970.33user 445.13system 2:03:35elapsed 99%CPU (0avgtext+0avgdata 7272maxresident)k
0inputs+0outputs (0major+6153minor)pagefaults 0swaps

MOLS> cat data/Weights/testN6_2 | time ./Euler 0 0 eq "" dom 264.61937500000000000888,181.13374999999999999389,111.07562499999999999778,180.00000000000000000000
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
6 2 11 6 la eq one eager prun dom 21.0698 0 5913 2956 0 2956 0 2957 2957 0 5520 5913 482689 1809114 20.9891 1.3349 4.6438 0.0001 Euler 0.13.2
21.07user 1.33system 0:22.40elapsed 99%CPU (0avgtext+0avgdata 6616maxresident)k
0inputs+0outputs (0major+379minor)pagefaults 0swaps

Small refinement.

Optimising for number of p-calls:

MOLS> cat data/Weights/testN6_2 | time ./Euler_BBOpt 10 1 8 1 data/Weights/ParaN6_eq_1 "" eq dom  laprp
(344.92187500000000000000,181.91499999999999999389,98.82812500000000000000,180.00000000000000000000),1810825.00000000000000000000
7373.48user 479.89system 2:10:54elapsed 99%CPU (0avgtext+0avgdata 7304maxresident)k
0inputs+0outputs (0major+7753minor)pagefaults 0swaps

MOLS> cat data/Weights/testN6_2 | time ./Euler 0 0 eq "" dom 344.921875,181.91499999999999999389,98.828125,180
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
6 2 11 6 la eq one eager prun dom 21.6632 0 6245 3122 0 3122 0 3123 3123 0 5723 6245 488625 1810825 21.5753 1.3792 4.7385 0.0002 Euler 0.13.2
21.66user 1.36system 0:23.02elapsed 100%CPU (0avgtext+0avgdata 6860maxresident)k
0inputs+0outputs (0major+388minor)pagefaults 0swaps

Not much of a difference.


The number of leaves is similar to value-branching, but the number of p-calls
is significantly higher, and accordingly the run-time.
So perhaps just the internal organisation is less efficient for binary
branching.


C)

Order 7

For N=7, m=18, among 1000 instances generated via LSRG there are about 50 %
unsatisfiable instances. The maximal number of leaves is 4570 on seed 715.
The runtime 45 seconds is still quite reasonable if optimisation is run on all CPU cores of okserver.

> LSRG 7,2 "-co" "1*0,0,18;1*0,0,0" 1628808251117432880,1628808263227713690,0,715 | python symmetry-breaking-pair.py | Euler 0 0 la,val
N k m1 m2 brt brsrc brm brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la val mu0 one eager prun dom 44.5646 0 6146 1576 254 115 4570 4570 0 8393 6146 129209 1475808 44.3395 0.7791 5.6819 0.0003 Euler 0.9.10

The instance is:

LSRG 7,2 "-co" "1*0,0,18;1*0,0,0" 1628808251117432880,1628808263227713690,0,715 | python symmetry-breaking-pair.py > data/weights/testN7

7 2

* * * * * 1 6
1 5 6 0 2 3 4
4 3 0 5 6 2 1
* * 1 * 4 5 *
* * * * * * *
* * * * * * *
2 * 3 * * * 5

0 1 2 3 4 5 6
* * * * * * *
* * * * * * *
* * * * * * *
* * * * * * *
* * * * * * *
* * * * * * *

Four more instances with quite large number of leaves (about 3 000) may be produced by seeds 82, 128, 214, and 408:

LSRG 7,2 "-co" "1*0,0,18;1*0,0,0" 1628808251117432880,1628808263227713690,0,82 | python symmetry-breaking-pair.py > data/Weights/testN7_2

LSRG 7,2 "-co" "1*0,0,18;1*0,0,0" 1628808251117432880,1628808263227713690,0,128 | python symmetry-breaking-pair.py > data/Weights/testN7_3

LSRG 7,2 "-co" "1*0,0,18;1*0,0,0" 1628808251117432880,1628808263227713690,0,214 | python symmetry-breaking-pair.py > data/Weights/testN7_4

LSRG 7,2 "-co" "1*0,0,18;1*0,0,0" 1628808251117432880,1628808263227713690,0,408 | python symmetry-breaking-pair.py > data/Weights/testN7_5

For m=14, 10 000 instances were randomly generated. Among them only 6 instances are unsatisfiable.
Five ones with the largest number of leaves were chosen. They shoulb be harder for optimisation
then ones for m=18.

LSRG 7,2 "-co" "1*0,0,14;1*0,0,0" 1628808251117432880,1628808263227713690,0,75 | python symmetry-breaking-pair.py > data/Weights/testN7_6

LSRG 7,2 "-co" "1*0,0,14;1*0,0,0" 1628808251117432880,1628808263227713690,0,1717 | python symmetry-breaking-pair.py > data/Weights/testN7_7

LSRG 7,2 "-co" "1*0,0,14;1*0,0,0" 1628808251117432880,1628808263227713690,0,5428 | python symmetry-breaking-pair.py > data/Weights/testN7_8

LSRG 7,2 "-co" "1*0,0,14;1*0,0,0" 1628808251117432880,1628808263227713690,0,6092 | python symmetry-breaking-pair.py > data/Weights/testN7_9

LSRG 7,2 "-co" "1*0,0,14;1*0,0,0" 1628808251117432880,1628808263227713690,0,6594 | python symmetry-breaking-pair.py > data/Weights/testN7_10


a) Value branching

First optimisation:
MOLS> cat ./data/Weights/testN7 | time ./Euler_BBOpt 4 2 1 1 ./data/Weights/ParaN7 val dom
(150.25000000000000000000,200.00000000000000000000,100.00000000000000000000,1.00000000000000000000,100.50000000000000000000),1627.00000000000000000000
1504.71user 52.23system 25:57.00elapsed 99%CPU (0avgtext+0avgdata 6256maxresident)k
0inputs+0outputs (0major+458minor)pagefaults 0swaps

Randomised:
MOLS> cat ./data/Weights/testN7 | time ./Euler_BBOpt 4 2 1 1 ./data/Weights/ParaN7 "0" val dom
(145.32012450222162396052,192.39836734572245106889,129.99132603608612103463,85.31689572720972537107,61.86317481093513121621),2040.00000000000000000000
1635.39user 57.82system 28:13.23elapsed 99%CPU (0avgtext+0avgdata 7076maxresident)k
0inputs+0outputs (0major+527minor)pagefaults 0swaps

The extreme parameter value 1.0 for the fourth weight was not caught.

Parallel computation, non-randomised. version 0.4:
MOLS> cat ./data/Weights/testN7 | time ./Euler_BBOpt 4 2 1 5 ./data/Weights/ParaN7 val dom
(150.25000000000000000000,200.00000000000000000000,100.00000000000000000000,1.00000000000000000000,100.50000000000000000000),1627.00000000000000000000
4358.95user 2149.08system 30:41.25elapsed 353%CPU (0avgtext+0avgdata 8672maxresident)k
0inputs+0outputs (0major+3366minor)pagefaults 0swaps

Capping here is far less efficient, but parallel computation runs at a
much slower speed!

Parallel computation, randomised. version 0.5:
MOLS> cat ./data/Weights/testN7 | time ./Euler_BBOpt 4 2 1 5 ./data/Weights/ParaN7 "0" val dom
(145.32012450222162396052,192.39836734572245106889,129.99132603608612103463,85.31689572720972537107,61.86317481093513121621),2040.00000000000000000000
4377.76user 2152.63system 29:58.60elapsed 363%CPU (0avgtext+0avgdata 9180maxresident)k
0inputs+0outputs (0major+4358minor)pagefaults 0swaps

Following the computation via htop (here it is easy to follow, since the
computation proceeds in rounds), one can clearly see that each thread runs
at around 25% of the normal speed.


Remark: Optimising time seems different from optimising leaf-counts;
this could be due to the pecularities of the look-ahead by Gecode.

MOLS> cat ./data/Weights/testN7 | time ./Euler_BBOpt 5 2 1 1 ./data/Weights/ParaN7_2 val dom
(140.0000,260.0000,86.0000,0.1000,124.0000),1323.0000

MOLS> cat ./data/Weights/testN7 | ./Euler_BBOpt 10 2 1 1 ./data/Weights/ParaN7_3 val dom
(148.0000,236.0000,86.0000,0.1000,124.0000),1320.0000

MOLS> cat ./data/Weights/testN7 | time ./Euler_BBOpt 10 2 8 1 ./data/Weights/ParaN7_4 val dom
(146.36874999999999999445,235.42499999999999998890,85.37500000000000000000,2.59749999999999999986,124.00000000000000000000),1294.00000000000000000000
16217.30user 537.09system 4:39:15elapsed 99%CPU (0avgtext+0avgdata 6200maxresident)k
0inputs+0outputs (0major+24708minor)pagefaults 0swaps

Running from a good starting value, and with a good range, randomised:
MOLS> cat data/Weights/testN7 | time ./Euler_BBOpt 20 2 8 1 ./data/Weights/ParaN7_best "0" val dom
(155.47660705710306802696,249.71305745326492275815,91.82294535577610980481,3.13931820013677950515,48.72933360946080644238),1279.00000000000000000000
33736.75user 1141.12system 9:41:24elapsed 99%CPU (0avgtext+0avgdata 7348maxresident)k
0inputs+0outputs (0major+1915minor)pagefaults 0swaps

A small improvement.
Removing decimal digits, while maintaining the leaf-count:
MOLS> cat data/Weights/testN7 | time ./Euler 0 0 val "" dom 155.476607057103068026,249.713057453264922758,91.8229453557761098048,3.1393182001367795051,49
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la val one eager prun dom 19.4683 0 1790 511 97 125 1279 1279 0 3030 1790 49720 975784 19.4256 0.3516 3.2074 0.0002 Euler 0.12.3
19.47user 0.64system 0:20.11elapsed 100%CPU (0avgtext+0avgdata 6872maxresident)k
0inputs+0outputs (0major+370minor)pagefaults 0swaps

No further digits can be removed without increasing the leaf-count (kind of interesting).


Rerunning it, now for longer (memory-leak solved, but no parallelisation yet):
MOLS> cat ./data/weights/testN7 | ./Euler_BBOpt 10 1 4 1 ./data/weights/ParaN7 val dom
(140.3000,197.5125,120.4000,75.6250,100.0000),1803.0000

One sees that manual interaction has its values (given the simplicity of the approach).


Optimising for counts of propagations-calls:
MOLS> cat data/Weights/testN7 | time ./Euler_BBOpt 10 2 2 1 ./data/Weights/ParaN7_best "" val dom laprp
(150.04999999999999998890,240.02000000000000000389,85.40000000000000000139,31.03059999999999999699,300.00000000000000000000),879714.00000000000000000000
5683.45user 196.84system 1:38:00elapsed 99%CPU (0avgtext+0avgdata 7092maxresident)k
0inputs+0outputs (0major+5445minor)pagefaults 0swaps

MOLS> cat data/Weights/testN7 | time ./Euler 0 0 val "" dom 150,240.02,85.4,31,300
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la val one eager prun dom 18.1298 0 2747 719 0 126 9 2028 2028 0 2341 2747 63220 879714 18.0645 0.3983 2.8386 0.0001 Euler 0.13.0
18.13user 0.58system 0:18.71elapsed 99%CPU (0avgtext+0avgdata 6820maxresident)k
0inputs+0outputs (0major+365minor)pagefaults 0swaps

MOLS> cat data/Weights/testN7 | time ./Euler_BBOpt 10 2 6 1 ./data/Weights/ParaN7_laprp_best "" val dom laprp
(140.00000000000000000000,251.56250000000000000000,87.90000000000000000139,36.50000000000000000000,300.00000000000000000000),865082.00000000000000000000
10960.86user 366.08system 3:08:47elapsed 99%CPU (0avgtext+0avgdata 6940maxresident)k
0inputs+0outputs (0major+16678minor)pagefaults 0swaps

MOLS> cat data/Weights/testN7 | time ./Euler 0 0 val "" dom 140,251.5625,87.9,36.5,300
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la val one eager prun dom 17.4224 0 2585 678 0 118 15 1907 1907 0 2234 2585 59919 865082 17.3631 0.3739 2.7338 0.0001 Euler 0.13.0
17.42user 0.52system 0:17.94elapsed 99%CPU (0avgtext+0avgdata 6912maxresident)k
0inputs+0outputs (0major+366minor)pagefaults 0swaps

High insensitivity of the last weight (but not complete, 1 yields a
considerably higher count):
MOLS> cat data/Weights/testN7 | time ./Euler 0 0 val "" dom 140,251.5625,87.9,36.5,100
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la val one eager prun dom 17.7445 0 2585 678 0 118 15 1907 1907 0 2234 2585 59919 865082 17.6836 0.3761 2.8043 0.0001 Euler 0.13.0
17.74user 0.59system 0:18.34elapsed 99%CPU (0avgtext+0avgdata 6804maxresident)k
0inputs+0outputs (0major+365minor)pagefaults 0swaps

A final randomised optimisation:
MOLS> cat data/Weights/testN7 | time ./Euler_BBOpt 10 2 6 1 ./data/Weights/ParaN7_laprp_best2 "0" val dom laprp
(140.00000000000000000000,269.99249360750505502549,88.19498825699477348450,36.50000000000000000000,130.90943783397253909195),858521.00000000000000000000
12541.88user 428.76system 3:36:13elapsed 99%CPU (0avgtext+0avgdata 6844maxresident)k
0inputs+0outputs (0major+3070minor)pagefaults 0swaps

A small improvement; highly sensitive:
MOLS> cat data/Weights/testN7 | time ./Euler 0 0 val "" dom 140,269.99249360750505502,88.194988256994773484,36.5,100
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la val one eager prun dom 17.3215 0 2581 678 0 118 19 1903 1903 0 2220 2581 59939 858521 17.2617 0.3749 2.7111 0.0001 Euler 0.13.0
17.32user 0.59system 0:17.91elapsed 100%CPU (0avgtext+0avgdata 6836maxresident)k
0inputs+0outputs (0major+366minor)pagefaults 0swaps

So we treat is a "random noise".




Exploring the second instance:
MOLS> cat data/Weights/testN7_2 | time ./Euler_BBOpt 20 2 8 1 ./data/Weights/ParaN7_best val dom
(116.31124999999999999195,336.55031249999999998224,72.26343749999999999112,0.68135812499999999996,150.04999999999999998890),1096.00000000000000000000
25478.39user 818.50system 7:18:17elapsed 99%CPU (0avgtext+0avgdata 6200maxresident)k
0inputs+0outputs (0major+9769minor)pagefaults 0swaps


Exploring the third instance:
MOLS> cat data/Weights/testN7_3 | time ./Euler_BBOpt 20 2 8 1 ./data/Weights/ParaN7_best val dom
(26.10283750000000000183,300.46859375000000000333,74.95785156249999998945,0.01712423828125000000,0.12311337890625000001),1049.00000000000000000000
28117.37user 892.47system 8:03:31elapsed 99%CPU (0avgtext+0avgdata 6376maxresident)k
0inputs+0outputs (0major+508minor)pagefaults 0swaps


Exploring the fourth instance:
MOLS> cat data/Weights/testN7_4 | time ./Euler_BBOpt 20 2 8 1 ./data/Weights/ParaN7_best val dom
(2.34706249999999999969,367.94609375000000001110,85.16570312499999999278,0.36639923437499999993,165.04499999999999998446),959.00000000000000000000
25136.95user 788.66system 7:12:06elapsed 99%CPU (0avgtext+0avgdata 6220maxresident)k
0inputs+0outputs (0major+19246minor)pagefaults 0swaps
(this was running say 45min on battery).


Exploring the fifth instance:
MOLS> cat data/Weights/testN7_5 | time ./Euler_BBOpt 20 2 8 1 ./data/Weights/ParaN7_best val dom
(60.07999999999999999473,387.27558593750000001665,104.12781250000000000944,3.64470625000000000046,120.25124999999999999417),1048.00000000000000000000
25179.18user 792.40system 7:12:54elapsed 99%CPU (0avgtext+0avgdata 6348maxresident)k
0inputs+0outputs (0major+511minor)pagefaults 0swaps
(this was running say 45min on battery).



Likely the first run should be scanning, with a larger range to begin with,
and say in total a workload 1000 times larger (on the server).

One should also show the total time-out.
So for the initial exploration from scratch one would use

ParaN7_scan:
0.001     0.1   2   300     1000
0.001     0.1   2   300     1000
0.001     0.1   2   300     1000
0.001     0.1   2   300     1000
0.001     0.1   2   300     1000

and the call

MOLS> cat Instance | time ./Euler_BBOpt 10 2 4 96 ./data/Weights/ParaN7_scan val dom

on the server.

Using the current best value as a starting point:

ParaN7_best
0.001     0.1   146.4   300     1000
0.001     0.1   235.4   300     1000
0.001     0.1   85.4    300     1000
0.001     0.1   2.6     300     1000
0.001     0.1   124.0   300     1000

and then using, say,

MOLS> cat Instance | time ./Euler_BBOpt 20 2 8 1 ./data/Weights/ParaN7_best val dom

on a smaller machine (currently no parallelism available), over night (should take 8 hours).


Current best weights and number of leaves :


Set 1, obtained for testN7:

   155.476607057103068026,
   249.713057453264922758,
   91.8229453557761098048,
   3.1393182001367795051,
   49

   1279

MOLS> cat data/Weights/testN7 | time ./Euler 0 0 val "" dom 155.476607057103068026,249.713057453264922758,91.8229453557761098048,3.1393182001367795051,49
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la val one eager prun dom 19.2666 0 1790 511 97 125 1279 1279 0 3030 1790 49720 975784 19.2250 0.3398 3.2045 0.0006 Euler 0.12.3
19.27user 0.60system 0:19.87elapsed 100%CPU (0avgtext+0avgdata 6860maxresident)k
0inputs+0outputs (0major+369minor)pagefaults 0swaps

MOLS> cat data/Weights/testN7_2 | time ./Euler 0 0 val "" dom 155.476607057103068026,249.713057453264922758,91.8229453557761098048,3.1393182001367795051,49
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 18 7 la val one eager prun dom 16.0856 0 1754 479 75 77 1275 1275 0 3106 1754 44083 789777 16.0436 0.3041 2.5714 0.0000 Euler 0.12.3
16.08user 0.51system 0:16.60elapsed 99%CPU (0avgtext+0avgdata 6772maxresident)k
0inputs+0outputs (0major+363minor)pagefaults 0swaps

MOLS> cat data/Weights/testN7_3 | time ./Euler 0 0 val "" dom 155.476607057103068026,249.713057453264922758,91.8229453557761098048,3.1393182001367795051,49
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 18 7 la val one eager prun dom 15.1809 0 2030 546 109 16 1484 1484 0 3252 2030 47452 716587 15.1300 0.3221 2.3080 0.0006 Euler 0.12.3
15.18user 0.40system 0:15.60elapsed 99%CPU (0avgtext+0avgdata 6860maxresident)k
0inputs+0outputs (0major+369minor)pagefaults 0swaps

MOLS> cat data/Weights/testN7_4 | time ./Euler 0 0 val "" dom 155.476607057103068026,249.713057453264922758,91.8229453557761098048,3.1393182001367795051,49
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 21 7 la val one eager prun dom 15.0330 0 1912 511 97 10 1401 1401 0 3173 1912 44919 717606 14.9864 0.2976 2.2773 0.0001 Euler 0.12.3
15.03user 0.51system 0:15.55elapsed 100%CPU (0avgtext+0avgdata 6816maxresident)k
0inputs+0outputs (0major+366minor)pagefaults 0swaps

MOLS> cat data/Weights/testN7_5 | time ./Euler 0 0 val "" dom 155.476607057103068026,249.713057453264922758,91.8229453557761098048,3.1393182001367795051,49
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 19 7 la val one eager prun dom 14.6371 0 1800 486 94 25 1314 1314 0 3039 1800 43257 694239 14.5928 0.2931 2.2179 0.0002 Euler 0.12.3
14.63user 0.44system 0:15.08elapsed 99%CPU (0avgtext+0avgdata 6700maxresident)k
0inputs+0outputs (0major+365minor)pagefaults 0swaps

Set 1p, obtained for testN7 by laprp:

   140,
   251.5625,
   87.9,
   36.5,
   100

   1481,683678

MOLS> cat data/Weights/testN7 | time ./Euler 0 0 val "" dom 140,251.5625,87.9,36.5,100
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la val one eager prun dom 17.7005 0 2585 678 0 118 15 1907 1907 0 2234 2585 59919 865082 17.6401 0.3754 2.7597 0.0000 Euler 0.13.0
17.70user 0.49system 0:18.20elapsed 99%CPU (0avgtext+0avgdata 6524maxresident)k
0inputs+0outputs (0major+362minor)pagefaults 0swaps
MOLS> cat data/Weights/testN7_2 | time ./Euler 0 0 val "" dom 140,251.5625,87.9,36.5,100
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
7 2 18 7 la val one eager prun dom 14.7917 0 2176 574 0 96 26 1602 1602 0 1805 2176 50210 736591 14.7419 0.3140 2.3004 0.0001 Euler 0.13.0
14.79user 0.50system 0:15.29elapsed 99%CPU (0avgtext+0avgdata 7048maxresident)k
0inputs+0outputs (0major+375minor)pagefaults 0swaps
MOLS> cat data/Weights/testN7_3 | time ./Euler 0 0 val "" dom 140,251.5625,87.9,36.5,100
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
7 2 18 7 la val one eager prun dom 14.2858 0 2465 640 0 102 20 1825 1825 0 1678 2465 54248 705013 14.2288 0.3176 2.2001 0.0001 Euler 0.13.0
14.28user 0.39system 0:14.68elapsed 99%CPU (0avgtext+0avgdata 6968maxresident)k
0inputs+0outputs (0major+373minor)pagefaults 0swaps
MOLS> cat data/Weights/testN7_4 | time ./Euler 0 0 val "" dom 140,251.5625,87.9,36.5,100
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
7 2 21 7 la val one eager prun dom 13.8467 0 2036 524 0 69 12 1512 1512 0 1796 2036 45359 676935 13.7986 0.2875 2.1183 0.0001 Euler 0.13.0
13.84user 0.42system 0:14.26elapsed 99%CPU (0avgtext+0avgdata 6580maxresident)k
0inputs+0outputs (0major+365minor)pagefaults 0swaps
MOLS> cat data/Weights/testN7_5 | time ./Euler 0 0 val "" dom 140,251.5625,87.9,36.5,100
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
7 2 19 7 la val one eager prun dom 14.2475 0 2184 569 0 84 26 1615 1615 0 1796 2184 49298 699931 14.1955 0.3035 2.1950 0.0000 Euler 0.13.0
14.24user 0.41system 0:14.66elapsed 99%CPU (0avgtext+0avgdata 6748maxresident)k
0inputs+0outputs (0major+365minor)pagefaults 0swaps


Set 2, obtained for testN7_2:

   116.31124999999999999195,
   336.55031249999999998224,
   72.26343749999999999112,
   0.68135812499999999996,
   150.0499999999999999889

   1096

MOLS> cat ./data/Weights/testN7 | ./Euler 0 0 val "" dom 116.31124999999999999195,336.55031249999999998224,72.26343749999999999112,0.68135812499999999996,150.0499999999999999889
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la val one eager prun dom 21.2948 0 1973 561 99 149 1412 1412 0 3255 1973 54499 1060903 21.2474 0.3945 3.5123 0.0001 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_2 | ./Euler 0 0 val "" dom 116.31124999999999999195,336.55031249999999998224,72.26343749999999999112,0.68135812499999999996,150.0499999999999999889
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 18 7 la val one eager prun dom 15.5432 0 1497 401 50 65 1096 1096 0 2882 1497 37629 752713 15.5070 0.2725 2.4608 0.0001 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_3 | ./Euler 0 0 val "" dom 116.31124999999999999195,336.55031249999999998224,72.26343749999999999112,0.68135812499999999996,150.0499999999999999889
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 18 7 la val one eager prun dom 14.1388 0 1831 467 57 17 1364 1364 0 3020 1831 41513 668924 14.0930 0.2902 2.1185 0.0001 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_4 | ./Euler 0 0 val "" dom 116.31124999999999999195,336.55031249999999998224,72.26343749999999999112,0.68135812499999999996,150.0499999999999999889
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 21 7 la val one eager prun dom 14.3220 0 1847 475 61 14 1372 1372 0 3185 1847 42059 693257 14.2769 0.2902 2.1802 0.0001 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_5 | ./Euler 0 0 val "" dom 116.31124999999999999195,336.55031249999999998224,72.26343749999999999112,0.68135812499999999996,150.0499999999999999889
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 19 7 la val one eager prun dom 13.5651 0 1601 410 49 24 1191 1191 0 2827 1601 37325 643671 13.5258 0.2640 2.0567 0.0001 Euler 0.12.1


Set 3, obtained for testN7_3:

   26.10283750000000000183,
   300.46859375000000000333,
   74.95785156249999998945,
   0.01712423828125,
   0.12311337890625000001

   1049

MOLS> cat ./data/Weights/testN7 | ./Euler 0 0 val "" dom 26.10283750000000000183,300.46859375000000000333,74.95785156249999998945,0.01712423828125,0.12311337890625000001
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la val one eager prun dom 70.1400 0 5691 2013 611 1177 3678 3678 0 9974 5691 202038 3606393 70.0014 1.4910 11.4989 0.0000 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_2 | ./Euler 0 0 val "" dom 26.10283750000000000183,300.46859375000000000333,74.95785156249999998945,0.01712423828125,0.12311337890625000001
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 18 7 la val one eager prun dom 31.9773 0 2594 810 98 493 1784 1784 0 5117 2594 80004 1580379 31.9137 0.5922 5.1866 0.0000 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_3 | ./Euler 0 0 val "" dom 26.10283750000000000183,300.46859375000000000333,74.95785156249999998945,0.01712423828125,0.12311337890625000001
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 18 7 la val one eager prun dom 16.4657 0 1432 383 23 112 1049 1049 0 2773 1432 37237 768266 16.4291 0.2871 2.5267 0.0001 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_4 | ./Euler 0 0 val "" dom 26.10283750000000000183,300.46859375000000000333,74.95785156249999998945,0.01712423828125,0.12311337890625000001
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 21 7 la val one eager prun dom 22.7100 0 1727 504 84 172 1223 1223 0 3316 1727 49601 1036640 22.6647 0.3890 3.4698 0.0001 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_5 | ./Euler 0 0 val "" dom 26.10283750000000000183,300.46859375000000000333,74.95785156249999998945,0.01712423828125,0.12311337890625000001
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 19 7 la val one eager prun dom 24.3956 0 1991 591 42 350 1400 1400 0 3691 1991 59586 1139578 24.3434 0.4676 3.8223 0.0000 Euler 0.12.1


Set 4, obtained for testN7_4:

   2.34706249999999999969,
   367.94609375000000001110,
   85.16570312499999999278,
   0.36639923437499999993,
   165.04499999999999998446

   959

MOLS> cat ./data/Weights/testN7 | ./Euler 0 0 val "" dom 2.34706249999999999969,367.94609375000000001110,85.16570312499999999278,0.36639923437499999993,165.04499999999999998446
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la val one eager prun dom 34.9588 0 2940 896 101 499 2044 2044 0 5438 2940 87584 1779041 34.8882 0.6495 5.7280 0.0001 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_2 | ./Euler 0 0 val "" dom 2.34706249999999999969,367.94609375000000001110,85.16570312499999999278,0.36639923437499999993,165.04499999999999998446
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 18 7 la val one eager prun dom 38.5999 0 3027 971 164 580 2056 2056 0 6063 3027 96807 1904867 38.5246 0.7289 6.2904 0.0001 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_3 | ./Euler 0 0 val "" dom 2.34706249999999999969,367.94609375000000001110,85.16570312499999999278,0.36639923437499999993,165.04499999999999998446
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 18 7 la val one eager prun dom 17.2902 0 1499 405 28 121 1094 1094 0 2908 1499 39318 807120 17.2522 0.2976 2.6393 0.0000 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_4 | ./Euler 0 0 val "" dom 2.34706249999999999969,367.94609375000000001110,85.16570312499999999278,0.36639923437499999993,165.04499999999999998446
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 21 7 la val one eager prun dom 14.9362 0 1303 344 38 53 959 959 0 2633 1303 32594 691597 14.9023 0.2465 2.2501 0.0001 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_5 | ./Euler 0 0 val "" dom 2.34706249999999999969,367.94609375000000001110,85.16570312499999999278,0.36639923437499999993,165.04499999999999998446
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 19 7 la val one eager prun dom 19.7945 0 1731 487 36 217 1244 1244 0 3299 1731 48142 931125 19.7500 0.3659 3.0638 0.0001 Euler 0.12.1


Set 5, obtained for testN7_5:

   60.07999999999999999473,
   387.27558593750000001665,
   104.12781250000000000944,
   3.64470625000000000046,
   120.25124999999999999417

   1048

MOLS> cat ./data/Weights/testN7 | ./Euler 0 0 val "" dom 60.07999999999999999473,387.27558593750000001665,104.12781250000000000944,3.64470625000000000046,120.25124999999999999417
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la val one eager prun dom 30.8834 0 2555 787 127 390 1768 1768 0 4547 2555 76964 1569410 30.8232 0.5593 5.1242 0.0001 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_2 | ./Euler 0 0 val "" dom 60.07999999999999999473,387.27558593750000001665,104.12781250000000000944,3.64470625000000000046,120.25124999999999999417
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 18 7 la val one eager prun dom 29.3726 0 2468 768 94 457 1700 1700 0 4908 2468 75656 1463146 29.3109 0.5523 4.7852 0.0001 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_3 | ./Euler 0 0 val "" dom 60.07999999999999999473,387.27558593750000001665,104.12781250000000000944,3.64470625000000000046,120.25124999999999999417
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 18 7 la val one eager prun dom 18.1570 0 1768 484 48 138 1284 1284 0 3217 1768 45829 859830 18.1122 0.3305 2.7902 0.0001 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_4 | ./Euler 0 0 val "" dom 60.07999999999999999473,387.27558593750000001665,104.12781250000000000944,3.64470625000000000046,120.25124999999999999417
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 21 7 la val one eager prun dom 16.1656 0 1617 432 60 57 1185 1185 0 3031 1617 40037 754571 16.1239 0.2886 2.4285 0.0001 Euler 0.12.1

MOLS> cat ./data/Weights/testN7_5 | ./Euler 0 0 val "" dom 60.07999999999999999473,387.27558593750000001665,104.12781250000000000944,3.64470625000000000046,120.25124999999999999417
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 19 7 la val one eager prun dom 14.3348 0 1431 383 58 57 1048 1048 0 2755 1431 35796 671844 14.2982 0.2579 2.1856 0.0002 Euler 0.12.1


Summary:

The five sets, rounded (p-version for "laprp"):

S1      155     250     92      3.1     49
S1p     140     252     88      37      100
S2      116     337     72      0.7     150
S3      26      300     75      0.02    0.1
S4      2.4     368     85      0.4     165
S5      60      387     104     3.6     120

The achievements (lvs,sbpt) for the five instances:

S1      1279,975784     1275,789777     1484,717606     1401,717606     1314,694239
S1p     1907,865082     1602,736591     1825,705013     1512,676935     1615,699931
S2      1412,1060903    1096,752713     1364,668924     1372,693257     1191,643671
S3      3678,3606393    1784,1580379    1049,768266     1223,1036640    1400,1139578
S4      2044,1779041    2056,1904867    1094,807120     959,691597      1244,931125
S5      1768,1569410    1700,1463146    1284,859830     1185,754571     1048,671844



b) Value-branching with min-domain-heuristic

MOLS> cat ./data/weights/testN7 | ./Euler 0 0 mindr,val "" dom 0,0,0,0,0
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 mindr val one eager prun dom 18.5942 0 7553 1999 445 0 5554 5554 0 9432 7553 0 993811 18.4338 0.0000 2.9546 0.0000 Euler 0.11.8

MOLS> cat ./data/weights/testN7 | ./Euler 0 0 mind,val "" dom 0,0,0,0,0
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 mind val one eager prun dom 24.3341 0 1629973 666058 371324 292058 963915 963915 0 0 666058 0 0 0.4955 0.0000 0.0000 0.0001 Euler 0.11.8





b) Binary-branching:

MOLS> cat ./data/weights/testN7 | ./Euler_BBOpt 2 1 1 1 ./data/weights/ParaN7_eq eq dom
(100.5000,1.0000,100.0000,100.5000,100.0000),2322.0000

MOLS> cat ./data/weights/testN7 | ./Euler_BBOpt 4 1 1 1 ./data/weights/ParaN7_eq eq_2 dom
(120.0000,10.0000,100.0000,100.5000,100.0000),2101.0000

MOLS> cat ./data/weights/testN7 | ./Euler_BBOpt 6 1 1 1 ./data/weights/ParaN7_eq_3 eq dom
(133.3333,1.0000,100.0000,100.5000,100.0000),2045.0000

Now using randomisation:
MOLS> cat ./data/Weights/testN7 | ./Euler_BBOpt 6 2 2 1 ./data/Weights/ParaN7_eq_3 "0" eq dom
(130.30582379174905353902,4.35901350154064269214,100.00000000000000000000,100.16060687031867470348,99.87611425047239319119),2003.00000000000000000000



MOLS> cat ./data/Weights/testN7 | ./Euler 0 0 eq "" dom 133,1,100,100.5,100
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la eq one eager prun dom 52.2110 0 4089 2044 2044 0 2045 2045 0 4894 4089 831584 3198572 52.1310 2.5505 10.0887 0.0001 Euler 0.11.8

MOLS> cat ./data/Weights/testN7 | ./Euler 0 0 eq "" dom 130.3,4.3,100,100.1,99.9
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la eq one eager prun dom 70.6699 0 6003 3001 3001 0 3002 3002 0 6398 6003 1220706 4157379 70.5511 4.0110 13.4343 0.0001 Euler 0.12.3
MOLS> cat ./data/Weights/testN7 | ./Euler 0 0 eq "" dom 130.30582379174905353902,4.35901350154064269214,100,100.16060687031867470348,99.87611425047239319119
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 la eq one eager prun dom 51.9684 0 4005 2002 2002 0 2003 2003 0 4847 4005 814656 3152214 51.8902 2.5407 9.8560 0.0001 Euler 0.12.3

One sees clearly above the random variations, and thus this fine-tuning is
likely meaningless.

Optimisation works reasonably smoothly here only for the first parameter, while
the others seem to be very granular (discrete), and jump around.

For comparison:

MOLS> cat ./data/weights/testN7 | ./Euler 0 0 mindr,eq "" dom 0,0,0,0,0
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 mindr eq one eager prun dom 27.3225 0 7147 3573 3573 0 3574 3574 0 6650 7147 0 1456622 27.2052 0.0000 4.3127 0.0001 Euler 0.11.8

MOLS> cat ./data/weights/testN7 | ./Euler 0 0 mind,eq "" dom 0,0,0,0,0
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
7 2 22 7 mind eq one eager prun dom 26.6953 0 1927641 963820 963820 0 963821 963821 0 0 963820 0 0 0.6948 0.0000 0.0000 0.0001 Euler 0.11.8


D)

Order 8.

The following unsatisfiable instance can be used:

> LSRG 8,2 "-co" "1*0,0,64;1*0,0,0" 1628808251117432880,1628808263227713690,0,0 | python symmetry-breaking-pair.py

8 2

3 4 7 1 6 5 2 0
6 2 4 3 1 0 5 7
1 7 2 5 0 3 4 6
2 3 6 0 5 1 7 4
4 1 0 7 3 2 6 5
5 6 3 4 2 7 0 1
0 5 1 6 7 4 3 2
7 0 5 2 4 6 1 3

0 1 2 3 4 5 6 7
* * * * * * * *
* * * * * * * *
* * * * * * * *
* * * * * * * *
* * * * * * * *
* * * * * * * *
* * * * * * * *

This is stored as
  data/Weights/testN8_1


a) Value-branching

MOLS> cat ./data/Weights/testN8_1 | time ./Euler_BBOpt 5 2 1 1 ./data/Weights/ParaN8_1 "" val dom
(120.05999999999999999778,180.03999999999999999389,0.10000000000000000000,85.40000000000000000139,120.05999999999999999778,124.00000000000000000000),114.00000000000000000000
227.72user 6.11system 3:53.84elapsed 99%CPU (0avgtext+0avgdata 6948maxresident)k
0inputs+0outputs (0major+1944minor)pagefaults 0swaps

So that was indeed a very easy instance.

Obtain testN8_2 by removing 4 cells in the second ls:

MOLS> cat ./data/Weights/testN8_2 | time ./Euler_BBOpt 5 2 1 1 ./data/Weights/ParaN8_2 "" val dom
(60.07999999999999999820,180.00000000000000000000,0.10000000000000000000,85.40000000000000000139,180.03999999999999999389,124.00000000000000000000),2736.00000000000000000000
2114.49user 54.61system 36:09.38elapsed 99%CPU (0avgtext+0avgdata 7116maxresident)k
0inputs+0outputs (0major+1168minor)pagefaults 0swaps

Removing another cell.

MOLS> cat ./data/Weights/testN8_3 | time ./Euler_BBOpt 5 2 1 1 ./data/Weights/ParaN8_3 "" val dom
(300.00000000000000000000,10.00000000000000000000,0.00100000000000000000,10.00000000000000000000,300.00000000000000000000,120.05999999999999999778),5261.00000000000000000000
12192.34user 321.31system 3:28:36elapsed 99%CPU (0avgtext+0avgdata 7288maxresident)k
0inputs+0outputs (0major+2281minor)pagefaults 0swaps

This is good progress (starting with 24135 leaves).
Further optimisation:
MOLS> cat ./data/Weights/testN8_3 | time ./Euler_BBOpt 10 2 2 1 ./data/Weights/ParaN8_4 "0" val dom
(350.15095739484573630906,36.94348799014923438039,0.58429627886999218662,4.31579835568170420024,296.23292444971146170074,91.69947960920751411917),4941.00000000000000000000
22388.17user 555.10system 6:22:23elapsed 99%CPU (0avgtext+0avgdata 6964maxresident)k
0inputs+0outputs (0major+1477minor)pagefaults 0swaps

These weights also perform reasonably on instances _1, _2.
MOLS> cat data/Weights/testN8_3 | time ./Euler 0 0 val "" dom 350.15095739484573630906,36.94348799014923438039,0.58429627886999218662,4.31579835568170420024,296.23292444971146170074,91.69947960920751411917
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 3 la val one eager prun dom 86.7150 0 6410 1469 0 540 4941 4941 0 7855 6410 162996 3219676 86.5168 1.4807 11.4226 0.0000 Euler 0.12.3
86.71user 2.12system 1:28.84elapsed 99%CPU (0avgtext+0avgdata 6724maxresident)k
0inputs+0outputs (0major+392minor)pagefaults 0swaps

Rounding maintains the counts:
MOLS> cat data/Weights/testN8_3 | time ./Euler 0 0 val "" dom 350,37,0.6,4,296,92
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 3 la val one eager prun dom 87.0605 0 6410 1469 0 540 4941 4941 0 7855 6410 162996 3219676 86.8616 1.4961 11.6640 0.0001 Euler 0.12.3
87.06user 2.14system 1:29.21elapsed 99%CPU (0avgtext+0avgdata 6776maxresident)k
0inputs+0outputs (0major+393minor)pagefaults 0swaps

Removing another cell.

MOLS> cat ./data/Weights/testN8_4 | time ./Euler_BBOpt 5 2 1 1 ./data/Weights/ParaN8_5 "" val dom
(380.00000000000000000000,18.00000000000000000000,0.60000000000000000002,6.39999999999999999965,270.00000000000000000000,93.00000000000000000000),77064.00000000000000000000
117509.57user 3063.66system 33:30:14elapsed 99%CPU (0avgtext+0avgdata 7096maxresident)k
0inputs+0outputs (0major+1707minor)pagefaults 0swaps

Rounding maintains the counts:
MOLS> cat data/Weights/testN8_4 | time ./Euler 0 0 val "" dom 380,18,0.6,6.4,270,93
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 2 la val one eager prun dom 1292.1548 0 103561 26497 3960 5040 77064 77064 0 119454 103561 2907844 48962442 1288.9841 26.0798 128.2791 0.0000 Euler 0.12.3
1292.15user 31.59system 22:03.77elapsed 99%CPU (0avgtext+0avgdata 6960maxresident)k
0inputs+0outputs (0major+416minor)pagefaults 0swaps

Randomised:
MOLS> cat ./data/Weights/testN8_4 | time ./Euler_BBOpt 5 2 2 1 ./data/Weights/ParaN8_6 "0" val dom
(376.16425978045285730134,14.98949347365867708782,0.65730387690524191987,4.92969435142398441441,266.86636766432148470951,93.00000000000000000000),54570.00000000000000000000
155599.84user 4052.21system 44:21:06elapsed 99%CPU (0avgtext+0avgdata 7148maxresident)k
0inputs+0outputs (0major+458minor)pagefaults 0swaps

A good improvement.

Again we find a high sensitivity:

Rounding leads to 3-fold increase in leaf-count:
MOLS> cat data/Weights/testN8_4 | time ./Euler 0 0 val "" dom 376.16,14.99,0.66,4.93,266.87,93
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 2 la val one eager prun dom 2360.9101 0 219853 54157 0 4320 10800 165696 165696 0 78780 219853 5959804 90003588 2354.2981 55.2511 129.7450 0.0001 Euler 0.13.0
2360.91user 59.63system 40:20.70elapsed 99%CPU (0avgtext+0avgdata 6712maxresident)k
0inputs+0outputs (0major+407minor)pagefaults 0swaps

Reproduction by using full precision:
MOLS> cat data/Weights/testN8_4 | time ./Euler 0 0 val "" dom 376.16425978045285730134,14.98949347365867708782,0.65730387690524191987,4.92969435142398441441,266.86636766432148470951,93
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 2 la val one eager prun dom 691.2025 0 69277 14707 0 0 2160 54570 54570 0 14250 69277 1637224 25836396 689.0841 14.6451 115.9372 0.0001 Euler 0.13.0
691.20user 17.64system 11:48.91elapsed 99%CPU (0avgtext+0avgdata 6840maxresident)k
0inputs+0outputs (0major+395minor)pagefaults 0swaps

Close, but still away:
MOLS> cat data/Weights/testN8_4 | time ./Euler 0 0 val "" dom 376.16,14.98,0.65730387690524191987,4.92969435142398441441,266.86636766432148470951,93
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 2 la val one eager prun dom 827.7774 0 80797 17587 0 0 3600 63210 63210 0 25710 80797 1953304 30575766 825.2258 17.5382 128.0689 0.0001 Euler 0.13.0
827.78user 19.62system 14:07.46elapsed 99%CPU (0avgtext+0avgdata 6736maxresident)k
0inputs+0outputs (0major+398minor)pagefaults 0swaps
MOLS> cat data/Weights/testN8_4 | time ./Euler 0 0 val "" dom 376.1642,14.9894,0.65730387690524191987,4.92969435142398441441,266.86636766432148470951,93
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 2 la val one eager prun dom 810.1261 0 80797 17587 0 0 3600 63210 63210 0 25710 80797 1953304 30575766 807.7069 17.2014 128.0367 0.0001 Euler 0.13.0
810.13user 19.37system 13:49.63elapsed 99%CPU (0avgtext+0avgdata 6716maxresident)k
0inputs+0outputs (0major+394minor)pagefaults 0swaps


A very focussed search now:
MOLS> cat ./data/Weights/testN8_4 | time ./Euler_BBOpt 5 2 2 1 ./data/Weights/ParaN8_7 "1" val dom
(374.39430185061892947251,14.79840379416463826915,0.65730387690524191987,4.92969435142398441441,266.86636766432148470951,93.00000000000000000000),54570.00000000000000000000
91137.09user 2318.41system 25:57:43elapsed 99%CPU (0avgtext+0avgdata 7148maxresident)k
0inputs+0outputs (0major+4117minor)pagefaults 0swaps

No improvement; small changes in the first two components.

MOLS> cat data/Weights/testN8_4 | time ./Euler 0 0 val "" dom 374.39430185061892947251,14.79840379416463826915,0.65730387690524191987,4.92969435142398441441,266.86636766432148470951,93
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 2 la val one eager prun dom 708.0520 0 69277 14707 0 0 2160 54570 54570 0 14250 69277 1637224 25836396 705.8942 14.9231 116.0379 0.0001 Euler 0.13.0
708.05user 16.63system 12:04.78elapsed 99%CPU (0avgtext+0avgdata 6752maxresident)k
0inputs+0outputs (0major+395minor)pagefaults 0swaps

Exactly the same statistics as with the old weights.

A final, more focussed search:
MOLS> cat ./data/Weights/testN8_4 | time ./Euler_BBOpt 10 1 4 1 ./data/Weights/ParaN8_8 "2" val dom
(373.87086044707246867969,15.17878709763324756969,0.62962148039990857486,4.92969435142398441441,266.86636766432148470951,93.00000000000000000000),54570.00000000000000000000
163646.70user 4187.12system 46:37:25elapsed 99%CPU (0avgtext+0avgdata 6992maxresident)k
0inputs+0outputs (0major+11184minor)pagefaults 0swaps

Again, only small changes in the first three components, no improvement.

MOLS> cat data/Weights/testN8_4 | time ./Euler 0 0 val "" dom 373.87086044707246867969,15.17878709763324756969,0.62962148039990857486,4.92969435142398441441,266.86636766432148470951,93
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 2 la val one eager prun dom 688.8435 0 69277 14707 0 0 2160 54570 54570 0 14550 69277 1637224 25869066 686.7493 14.6261 116.0885 0.0003 Euler 0.13.0
688.84user 17.63system 11:46.48elapsed 99%CPU (0avgtext+0avgdata 6712maxresident)k
0inputs+0outputs (0major+392minor)pagefaults 0swaps

Slightly higher number of calls.



And optimising the calls to propagation:
MOLS> cat ./data/Weights/testN8_4 | time ./Euler_BBOpt 5 2 2 1 ./data/Weights/ParaN8_7 "" val dom laprp
(374.00000000000000000000,16.00000000000000000000,0.65730387690524191987,4.92969435142398441441,266.86636766432148470951,93.00000000000000000000),25574676.00000000000000000000
134789.69user 3460.31system 38:24:27elapsed 99%CPU (0avgtext+0avgdata 6972maxresident)k
0inputs+0outputs (0major+3521minor)pagefaults 0swaps

MOLS> cat data/Weights/testN8_4 | time ./Euler 0 0 val "" dom 374,16,0.65730387690524191987,4.92969435142398441441,266.86636766432148470951,93.00000000000000000000),25574676.00000000000000000000

Tiny changes, likely negligible.

More focussed, and randomised:
MOLS> cat ./data/Weights/testN8_4 | time ./Euler_BBOpt 5 2 2 1 ./data/Weights/ParaN8_8 "0" val dom laprp
(374.84634420863436093940,14.83281185687475132399,0.65730387690524191987,4.93495937516179048474,266.47853775747749313640,93.00000000000000000000),25800036.00000000000000000000
138198.99user 3568.24system 39:23:03elapsed 99%CPU (0avgtext+0avgdata 7116maxresident)k
0inputs+0outputs (0major+3433minor)pagefaults 0swaps

MOLS> cat data/Weights/testN8_4 | time ./Euler 0 0 val "" dom 374.84634420863436093940,14.83281185687475132399,0.65730387690524191987,4.93495937516179048474,266.47853775747749313640,93
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 2 la val one eager prun dom 693.3408 0 69097 14677 0 0 2160 54420 54420 0 14880 69097 1633804 25800036 691.2280 14.7914 116.2553 0.0001 Euler 0.13.1
693.34user 17.31system 11:50.67elapsed 99%CPU (0avgtext+0avgdata 6792maxresident)k
0inputs+0outputs (0major+397minor)pagefaults 0swaps

Small variations in the first two components, no improvement.


For comparison:

MOLS> cat data/Weights/testN8_1 | time ./Euler 0 0 mind "" dom 0,0,0,0,0,0
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 8 mind eqval one eager prun dom 49.8931 0 2810989 1405494 1405494 0 1405495 1405495 0 0 1405494 0 0 1.1751 0.0000 0.0000 0.0001 Euler 0.12.3
49.89user 0.91system 0:50.81elapsed 99%CPU (0avgtext+0avgdata 6748maxresident)k
0inputs+0outputs (0major+389minor)pagefaults 0swaps

MOLS> cat data/Weights/testN8_2 | time ./Euler 0 0 mind "" dom 0,0,0,0,0,0
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 4 mind eqval one eager prun dom 1174.5084 0 67464447 33732223 33732223 0 33732224 33732224 0 0 33732223 0 0 32.0359 0.0000 0.0000 0.0002 Euler 0.12.3
1174.51user 20.47system 19:55.00elapsed 99%CPU (0avgtext+0avgdata 6908maxresident)k
0inputs+0outputs (0major+406minor)pagefaults 0swaps

MOLS> cat data/Weights/testN8_3 | time ./Euler 0 0 mind "" dom 0,0,0,0,0,0
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 3 mind eqval one eager prun dom 5853.3956 0 337308175 168654087 168654087 0 168654088 168654088 0 0 168654087 0 0 34.5190 0.0000 0.0000 0.0001 Euler 0.12.3
5853.39user 100.96system 1:39:29elapsed 99%CPU (0avgtext+0avgdata 6868maxresident)k
0inputs+0outputs (0major+481minor)pagefaults 0swaps


MOLS> cat data/Weights/testN8_1 | time ./Euler 0 0 mindr "" dom 0,0,0,0,0,0
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 8 mindr eqval one eager prun dom 100.6982 0 19469 9734 9734 0 9735 9735 0 15796 19469 0 4495719 100.2522 0.0000 16.2442 0.0001 Euler 0.12.3
100.70user 2.76system 1:43.46elapsed 99%CPU (0avgtext+0avgdata 6848maxresident)k
0inputs+0outputs (0major+388minor)pagefaults 0swaps

MOLS> cat data/Weights/testN8_2 | time ./Euler 0 0 mindr "" dom 0,0,0,0,0,0
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 4 mindr eqval one eager prun dom 2449.6390 0 469803 234901 234901 0 234902 234902 0 390278 469803 0 109338008 2438.7874 0.0000 136.2752 0.0001 Euler 0.12.3
2449.64user 69.81system 41:59.49elapsed 99%CPU (0avgtext+0avgdata 6940maxresident)k
0inputs+0outputs (0major+404minor)pagefaults 0swaps

MOLS> cat data/Weights/testN8_3 | time ./Euler 0 0 mindr "" dom 0,0,0,0,0,0
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds2 inds3 lvs ulvs sol 1chld chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 3 mindr eqval one eager prun dom 12541.6264 0 2381551 1190775 1190775 0 1190776 1190776 0 1966148 2381551 0 551122375 12473.3125 0.0000 199.6026 0.0001 Euler 0.12.3
12541.62user 360.32system 3:35:23elapsed 99%CPU (0avgtext+0avgdata 6952maxresident)k
848inputs+0outputs (2major+413minor)pagefaults 0swaps


The following unsatisfiable instance can be used to optimise weights for the value branching:

3 4 7 1 6 5 2 0
6 2 4 3 1 0 5 7
1 7 2 5 0 3 4 6
2 3 6 0 5 1 7 4
4 1 0 7 3 2 6 5
5 6 3 4 2 7 0 1
0 5 1 6 7 4 3 2
7 0 5 2 4 6 1 3

0 1 2 3 4 5 6 7
* * * * * * * *
* * * * * * * *
* * * * * * * *
* * * * * * * *
* * * * * * * *
* * * * * * * *
* * * * * * * *

It is the hardest one leaves-wise among 1000 benchmarks for the value-branching.

This is stored as
  data/Weights/bIJCAI22_8_52_7

MOLS> cat data/Weights/bIJCAI22_8_52_7 | Euler 0 0 la,val "" dom 376.16425978045285730134,14.98949347365867708782,0.65730387690524191987,4.92969435142398441441,266.86636766432148470951,93
N k m1 m2 brt brsrc brsol bregr brpr bro prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 7 la val one eager prun given dom 108.2639 0 16241 4433 0 1156 252 11808 11808 0 7736 16241 446140 4531650 107.8292 3.3911 16.5339 0.0001 Euler 0.13.3

The number of leaves is 11808.


b) Binary branching (bootstrapping):

MOLS> cat data/Weights/testN8_1 | time ./Euler_BBOpt 10 1 1 1 data/Weights/ParaN8_eq_1 "" eq dom
(220.00000000000000000000,10.89999999999999999965,0.65730387690524191987,4.92969435142398441441,250.50000000000000000000,200.60000000000000000555),380.00000000000000000000
931.28user 35.78system 16:07.12elapsed 99%CPU (0avgtext+0avgdata 7208maxresident)k
0inputs+0outputs (0major+26327minor)pagefaults 0swaps

MOLS> cat data/Weights/testN8_2 | time ./Euler_BBOpt 10 1 1 1 data/Weights/ParaN8_eq_2 "" eq dom
(100.00000000000000000000,1.00000000000000000000,0.10000000000000000000,40.59999999999999999861,150.70000000000000001110,200.00000000000000000000),3776.00000000000000000000
14111.71user 529.33system 4:04:03elapsed 99%CPU (0avgtext+0avgdata 7404maxresident)k
0inputs+0outputs (0major+640115minor)pagefaults 0swaps

MOLS> cat data/Weights/testN8_2 | time ./Euler 0 0 eq "" dom 100,1,0.1,40.6,150.7,200
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 4 la eq one eager prun dom 177.4396 0 8591 4295 0 4295 0 4296 4296 0 2427 8591 2519230 8393540 177.2648 7.4591 30.9589 0.0001 Euler 0.13.1
177.44user 6.13system 3:03.58elapsed 99%CPU (0avgtext+0avgdata 6912maxresident)k
0inputs+0outputs (0major+5930minor)pagefaults 0swaps
MOLS> cat data/Weights/testN8_2 | time ./Euler 0 0 eq "" dom 100,1,0.1,40.59999999999999999861,150.7,200
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 4 la eq one eager prun dom 183.0676 0 8591 4295 0 4295 0 4296 4296 0 2427 8591 2519230 8393540 182.8774 7.6246 31.9134 0.0001 Euler 0.13.1
183.07user 6.72system 3:09.85elapsed 99%CPU (0avgtext+0avgdata 6732maxresident)k
0inputs+0outputs (0major+6558minor)pagefaults 0swaps
MOLS> cat data/Weights/testN8_2 | time ./Euler 0 0 eq "" dom 100,1,0.1,40.59999999999999999861,150.70000000000000001110,200
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 4 la eq one eager prun dom 163.2978 0 7551 3775 0 3775 0 3776 3776 0 2179 7551 2235148 7500374 163.1375 6.7528 28.1813 0.0001 Euler 0.13.1
163.29user 5.86system 2:49.17elapsed 99%CPU (0avgtext+0avgdata 7068maxresident)k
0inputs+0outputs (0major+6149minor)pagefaults 0swaps

Again, the extreme sensitivity.


Let's refine it once more:
MOLS> cat data/Weights/testN8_2 | time ./Euler_BBOpt 10 1 8 1 data/Weights/ParaN8_eq_3 "0" eq dom
(69.54120480622953077293,0.66375731339837163629,0.06510283241523300125,40.59999999999999999861,150.70000000000000001110,198.30303435159337353821),3396.00000000000000000000
76590.51user 2916.90system 22:05:12elapsed 99%CPU (0avgtext+0avgdata 7320maxresident)k
0inputs+0outputs (0major+3677576minor)pagefaults 0swaps

Weights similar, number of leaves improved by 10%.

MOLS> cat data/Weights/testN8_2 | time ./Euler 0 0 eq "" dom 69.54120480622953077293,0.66375731339837163629,0.06510283241523300125,40.59999999999999999861,150.70000000000000001110,198.30303435159337353821
N k m1 m2 brt brsrc brsol bregr brpr bro prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 64 4 la eq one eager prun given dom 146.1233 0 6791 3395 0 3395 0 3396 3396 0 2064 6791 2032126 6848892 145.9812 6.0484 24.8815 0.0001 Euler 0.14.0
146.12user 5.13system 2:31.26elapsed 99%CPU (0avgtext+0avgdata 6716maxresident)k
0inputs+0outputs (0major+5141minor)pagefaults 0swaps

The general picture seems to be: the number of leaves for eq is somewhat
worse than for val, but the runtime is at least twice as much.

Now to testN8_3:
MOLS> cat data/Weights/testN8_3 | time ./Euler_BBOpt 5 1 4 1 data/Weights/ParaN8_eq_4 "" eq dom
XXX



Finding a solution for the empty board:

MOLS> LSRG 8,2 "-co" "1*0,0,0;1*0,0,0" 1628808251117432880,1628808263227713690,0,0 | python symmetry-breaking-pair.py > data/Weights/testN8_sat

> cat data/Weights/testN8_sat | time ./Euler 0 0 val "" dom 373.87086044707246867969,15.17878709763324756969,0.62962148039990857486,4.92969435142398441441,266.86636766432148470951,93
0 1 2 3 4 5 6 7
1 7 3 4 2 6 5 0
2 3 5 6 1 0 7 4
3 0 7 1 5 4 2 6
4 5 6 0 7 2 3 1
5 4 1 2 6 7 0 3
6 2 4 7 0 3 1 5
7 6 0 5 3 1 4 2

0 1 2 3 4 5 6 7
5 4 7 2 6 3 0 1
3 6 4 5 2 7 1 0
1 3 5 0 7 6 4 2
7 2 0 4 3 1 5 6
6 5 3 7 1 0 2 4
4 0 1 6 5 2 7 3
2 7 6 1 0 4 3 5
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 15 8 la val one eager prun dom 674.8307 1 34249 13836 0 9499 2249 20413 20412 1 55770 34249 1644179 27671501 673.5600 14.2525 128.4413 0.0002 Euler 0.13.0
674.83user 19.16system 11:34.02elapsed 99%CPU (0avgtext+0avgdata 7328maxresident)k
0inputs+0outputs (0major+622minor)pagefaults 0swaps

lvs = 20413

The other orderings of branchings:
MOLS> cat data/Weights/testN8_sat | time ./Euler 0 0 val,revgiven "" dom 373.87086044707246867969,15.17878709763324756969,0.62962148039990857486,4.92969435142398441441,266.86636766432148470951,93
0 1 2 3 4 5 6 7
1 2 6 5 0 4 7 3
2 5 4 6 7 1 3 0
3 4 0 7 6 2 1 5
4 0 3 2 1 7 5 6
5 6 7 1 3 0 2 4
6 7 5 4 2 3 0 1
7 3 1 0 5 6 4 2

0 1 2 3 4 5 6 7
5 7 4 6 3 1 0 2
4 0 3 7 2 6 5 1
7 5 6 1 0 3 2 4
6 2 1 0 7 4 3 5
2 3 5 4 6 7 1 0
1 6 7 2 5 0 4 3
3 4 0 5 1 2 7 6
N k m1 m2 brt brsrc brsol bregr brpr bro prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 15 8 la val one eager prun revgiven dom 4634.7870 1 230289 89174 0 56128 16128 141115 141114 1 385398 230289 10582350 186987413 4626.3550 90.5505 154.1537 0.0001 Euler 0.13.3
4634.78user 128.82system 1:19:23elapsed 99%CPU (0avgtext+0avgdata 7328maxresident)k
0inputs+0outputs (0major+729minor)pagefaults 0swaps

lvs = 141115

Again, with stable sort:
0 1 2 3 4 5 6 7
1 2 6 5 0 4 7 3
2 5 4 6 7 1 3 0
3 4 0 7 6 2 1 5
4 0 3 2 1 7 5 6
5 6 7 1 3 0 2 4
6 7 5 4 2 3 0 1
7 3 1 0 5 6 4 2

0 1 2 3 4 5 6 7
5 7 4 6 3 1 0 2
4 0 3 7 2 6 5 1
7 5 6 1 0 3 2 4
6 2 1 0 7 4 3 5
2 3 5 4 6 7 1 0
1 6 7 2 5 0 4 3
3 4 0 5 1 2 7 6
N k m1 m2 brt brsrc brsol bregr brpr bro prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 15 8 la val one eager prun revgiven dom 4614.0706 1 230289 89174 0 56128 16128 141115 141114 1 385398 230289 10582350 186987413 4605.6729 90.1603 162.8703 0.0002 Euler 0.14.0
4614.07user 127.59system 1:19:01elapsed 99%CPU (0avgtext+0avgdata 7212maxresident)k
0inputs+0outputs (0major+730minor)pagefaults 0swaps

Same result.

MOLS> cat data/Weights/testN8_sat | time ./Euler 0 0 val,descdist "" dom 373.87086044707246867969,15.17878709763324756969,0.62962148039990857486,4.92969435142398441441,266.86636766432148470951,93
0 1 2 3 4 5 6 7
1 4 0 6 7 2 3 5
2 7 6 4 0 3 5 1
3 6 7 2 5 1 4 0
4 2 5 7 3 0 1 6
5 3 1 0 2 6 7 4
6 0 4 5 1 7 2 3
7 5 3 1 6 4 0 2

0 1 2 3 4 5 6 7
2 0 4 5 1 3 7 6
7 3 0 2 5 6 1 4
4 7 6 1 2 0 5 3
6 5 7 4 0 1 3 2
3 2 5 7 6 4 0 1
1 6 3 0 7 2 4 5
5 4 1 6 3 7 2 0
N k m1 m2 brt brsrc brsol bregr brpr bro prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 15 8 la val one eager prun descdist dom 3760.3946 1 216526 88312 0 61685 14239 128214 128213 1 310577 216527 10317887 162568078 3753.0295 85.2743 150.2956 0.0002 Euler 0.14.0
3760.39user 109.57system 1:04:30elapsed 99%CPU (0avgtext+0avgdata 6972maxresident)k
0inputs+0outputs (0major+631minor)pagefaults 0swaps

lvs = 128214

MOLS> cat data/Weights/testN8_sat | time ./Euler 0 0 val,ascdist "" dom 373.87086044707246867969,15.17878709763324756969,0.62962148039990857486,4.92969435142398441441,266.86636766432148470951,93
0 1 2 3 4 5 6 7
1 0 5 2 6 7 3 4
2 6 7 4 5 0 1 3
3 4 0 1 7 6 5 2
4 7 6 5 3 2 0 1
5 2 3 0 1 4 7 6
6 3 4 7 0 1 2 5
7 5 1 6 2 3 4 0

0 1 2 3 4 5 6 7
5 4 3 7 1 6 0 2
4 2 1 6 0 3 7 5
1 0 6 4 5 7 2 3
7 3 4 1 2 0 5 6
6 5 7 2 3 1 4 0
3 6 5 0 7 2 1 4
2 7 0 5 6 4 3 1
N k m1 m2 brt brsrc brsol bregr brpr bro prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 15 8 la val one eager prun ascdist dom 1525.1294 1 84891 32360 0 20267 5026 52531 52530 1 137969 84893 3764930 65943748 1522.3818 30.9773 132.5956 0.0001 Euler 0.14.0
1525.13user 43.91system 26:09.08elapsed 99%CPU (0avgtext+0avgdata 7304maxresident)k
0inputs+0outputs (0major+609minor)pagefaults 0swaps

lvs = 52531

So the given order is best here.



For comparison:

MOLS> cat data/Weights/testN8_sat | time ./Euler 0 0 mind "" dom 0,0,0,0,0,0 
0 1 2 3 4 5 6 7
1 7 0 2 3 4 5 6
2 0 6 7 1 3 4 5
3 2 5 4 7 6 0 1
4 5 1 0 6 2 7 3
5 4 7 6 0 1 3 2
6 3 4 5 2 7 1 0
7 6 3 1 5 0 2 4

0 1 2 3 4 5 6 7
4 6 5 7 0 3 1 2
1 3 0 5 6 7 2 4
2 0 3 6 1 4 7 5
5 2 7 4 3 6 0 1
6 7 4 1 2 0 5 3
7 4 1 0 5 2 3 6
3 5 6 2 7 1 4 0
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 15 8 mind eqval one eager prun dom 12515.9154 1 664594178 332297103 0 332297103 0 332297075 332297074 1 0 332297103 0 0 59.2019 0.0000 0.0000 0.0001 Euler 0.13.0
12515.91user 219.85system 3:32:17elapsed 99%CPU (0avgtext+0avgdata 7180maxresident)k
0inputs+0outputs (0major+767minor)pagefaults 0swaps


MOLS> cat data/Weights/testN8_sat | time ./Euler 0 0 mindr "" dom 0,0,0,0,0,0
0 1 2 3 4 5 6 7
1 7 0 2 3 4 5 6
2 0 6 7 1 3 4 5
3 2 5 4 7 6 0 1
4 5 1 0 6 2 7 3
5 4 7 6 0 1 3 2
6 3 4 5 2 7 1 0
7 6 3 1 5 0 2 4

0 1 2 3 4 5 6 7
4 6 5 7 0 3 1 2
1 3 0 5 6 7 2 4
2 0 3 6 1 4 7 5
5 2 7 4 3 6 0 1
6 7 4 1 2 0 5 3
7 4 1 0 5 2 3 6
3 5 6 2 7 1 4 0
N k m1 m2 brt brsrc brsol bregr brpr prp t sat nds inds inds1 inds2 inds3 lvs ulvs sol rdc1 chcs taus sbps chct taut sbpt ptime prog vers
8 2 15 8 mindr eqval one eager prun dom 23438.7314 1 4742111 2371069 0 2371069 0 2371042 2371041 1 1576284 4742111 0 1073454234 23149.3379 0.0000 193.1785 0.0000 Euler 0.13.1
23438.73user 682.95system 6:42:02elapsed 99%CPU (0avgtext+0avgdata 7208maxresident)k
0inputs+0outputs (0major+482minor)pagefaults 0swaps
