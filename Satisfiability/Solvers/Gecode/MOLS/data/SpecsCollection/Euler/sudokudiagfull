# Counts for N >= 2:
# 0, 0, 0, 0, 0, 6, 1356

# Additionally to sudokudiag we have:
# diag aux, antidiag aux, box aux.
# The motivation here is to have "as much propagation as possible".

# Are these additional conditions independent?

# Question: every pair (if we don't have A=B, which is impossible)
# is enumerated twice -- how can this symmetry be broken here?


# gcMols:

# 2 <= N <= 7:

# MOLS> ./gcMols 2,7 data/SpecsCollection/Euler/sudokudiagfull "" count "" bin mindom "" 1 1 ""
#  N       rt  pl  bt        bv   bo gcd      satc           t           ppc        flvs        gnds     gd st
#  2    count dom bin    mindom  asc   1         0       0.000             4           1           0      0  0
#  3    count dom bin    mindom  asc   1         0       0.000            15           1           0      0  0
#  4    count dom bin    mindom  asc   1         0       0.000            53           1           0      0  0
#  5    count dom bin    mindom  asc   1         0       0.000            63           1           0      0  0
#  6    count dom bin    mindom  asc   1         0       0.014         62402         379         757      7  0
#  7    count dom bin    mindom  asc   1         6       2.260      10328758       56324      112659     18  0

# MOLS> ./gcMols 7 data/SpecsCollection/Euler/sudokudiagfull "" count "" - - "" 1 1 "t,2"
# best:
#  7    count dom enu maxdegdom  asc   1         6       0.715       3293114       12117       24145     15  0

# N = 8:

# MOLS> ./gcMols 8 data/SpecsCollection/Euler/sudokudiagfull "" +count dom enu maxdegdom desc 1 16 ""
#  N       rt  pl  bt        bv   bo gcd      satc           t           ppc        flvs        gnds     gd st
#  8   +count dom enu maxdegdom desc   1      1356  397586.577  497928347053  2719470620  4703027011     32  0

# As for sudokudiag:
# MOLS> ./gcMols 8 data/SpecsCollection/Euler/sudokudiagfull "" +count dom enu mindom desc 1 16 ""
# aborted, as it seems clearly producing fewer solutions than maxdegdom.



# rlaMols:

# N=7:

# MOLS> ./rlaMols 7 data/SpecsCollection/Euler/sudokudiagfull "" count dom - - - "" 1 12 "nds,5000"
#  N       rt  pl  bt        bv   bo    lar gcd     satc           t        ppc st      nds    inds      lvs
#  7    count dom bin    maxdeg  asc  relpr   1        6      52.098      91734  0      915     457      458
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc     tr  pelvals      dp
#500.678  0.842    9.045  123.259  228.616   2.217  0.000  0.418    1.032   8.133
#413.000  0.000    0.427  112.774  106.769   1.000  0.000  0.026    0.000   0.000
#579.000  1.500   19.918  126.150  658.065   6.000  0.000  1.747    8.782  15.000
# 23.302  0.407    3.264    1.483   80.664   0.903  0.000  0.236    1.320   2.436
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc     tr  pelvals      dp
#453.485  1.517    3.142   43.562  143.468   1.723  0.013  0.275    9.891  10.111
#363.000  1.090    0.000    0.744    1.489   1.000  0.000  0.001    0.993   5.000
#508.000  3.667   15.748  120.335  669.787   6.000  2.000  1.708   20.359  16.000
# 26.498  0.296    2.548   30.302  107.880   0.956  0.147  0.244    3.396   2.036
#  N       rt  pl  bt        bv   bo    lar gcd     satc           t        ppc st      nds    inds      lvs
#  7    count dom bin maxdegdom  asc  relpr   1        6      47.429      94522  0      925     462      463
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc     tr  pelvals      dp
#489.032  0.845    9.830  123.917  221.538   2.188  0.000  0.292    0.820   7.729
#410.000  0.000    0.427  117.634  106.479   1.000  0.000  0.049    0.000   0.000
#579.000  2.000   19.918  127.073  643.656   6.000  0.000  1.088    6.754  13.000
# 25.948  0.407    3.574    1.138   78.441   0.875  0.000  0.151    0.978   2.131
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc     tr  pelvals      dp
#445.598  1.527    2.961   40.384  138.380   1.659  0.013  0.198    9.430   9.708
#303.000  1.091    0.000    0.513    1.282   1.000  0.000  0.000    1.026   6.000
#498.000  4.000   12.266  121.652  669.787   6.000  2.000  1.506   18.519  14.000
# 22.732  0.329    2.447   28.841  108.894   0.931  0.147  0.193    3.094   1.654
#  N       rt  pl  bt        bv   bo    lar gcd     satc           t        ppc st      nds    inds      lvs
#  7    count dom enu maxdegdom  asc  relpr   1        6      42.386      93269  0      864     399      465
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc     tr  pelvals     dp
#485.774  0.917   10.185  123.901  229.218   2.278  0.000  0.348    0.939  4.687
#410.000  0.000    0.427  117.634  106.479   1.000  0.000  0.052    0.000  0.000
#579.000  2.000   19.918  127.073  643.656   6.000  0.000  1.260    6.754  8.000
# 23.735  0.375    3.386    1.194   77.751   0.863  0.000  0.216    1.013  1.230
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc     tr  pelvals     dp
#445.914  1.528    2.944   40.370  138.448   1.660  0.013  0.219    9.437  6.331
#303.000  1.091    0.000    0.513    1.282   1.000  0.000  0.001    1.026  4.000
#498.000  4.000   12.266  121.652  669.787   6.000  2.000  1.314   18.519  9.000
# 22.760  0.329    2.431   28.607  108.598   0.931  0.146  0.209    3.121  0.834

# N=8:

# MOLS> ./rlaMols 8 data/SpecsCollection/Euler/sudokudiagfull "" +count dom enu maxdegdom "" "" 1 16 ""
# aborted after more than 11h wallclock-time:
#  N       rt  pl  bt        bv   bo    lar gcd     satc           t        ppc st      nds    inds      lvs
#  8   +count dom enu maxdegdom  asc  relpr   1        5  648582.538  904487040  1  5337665 2655297  2682368
#    mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
#616.574  0.860   31.803  121.522   196.218   2.304  0.000   2.805    1.055  18.083
#458.000  0.000    0.000   94.173    58.475   1.000  0.000   0.449    0.000   0.000
#948.000  4.000  111.594  126.527  1006.587  11.000  1.000  19.009   14.125  31.000
# 43.775  0.397   13.134    2.084    79.878   0.914  0.001   1.328    1.182   2.474
#    mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
#529.356  1.874    1.424   32.843    80.435   1.326  0.000   1.085    6.708  20.030
#236.000  1.026    0.000    0.000     0.434   1.000  0.000   0.000    0.434  11.000
#713.000  5.000   64.045  124.815  1044.898  11.000  2.000  21.011   25.037  32.000
# 40.836  0.420    2.841   26.776    80.590   0.680  0.001   1.209    2.853   2.120

# MOLS> time ./rlaMols 8 data/SpecsCollection/Euler/sudokudiagfull "" +count dom enu maxdegdom "" "" 1 32 "" ""
#  N       rt  pl  bt        bv   bo    lar gcd     satc           t        ppc st      nds      lvs
#  8   +count dom enu maxdegdom  asc  relpr   1     1356 23358070.084 31304805888  0 184238169 92588300
#    mu0  qfppc   pprunes  pmprune   pprobes  rounds   solc       tr  pelvals      dp
#617.518  0.863    31.505  121.507   197.428   2.314  0.000    5.787    1.065  18.037
# 32.000  0.000     0.000   18.721     4.795   1.000  0.000    0.000    0.000   0.000
#948.000  5.000  1820.000  200.000  1368.839  15.000  2.000  158.449   28.736  36.000
# 43.795  0.397    13.109    2.089    80.399   0.919  0.001    3.891    1.192   2.468
#    mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc       tr  pelvals      dp
#530.320  1.870    1.438   32.876    81.158   1.332  0.000    2.179    6.752  19.985
# 16.000  1.019    0.000    0.000     0.407   1.000  0.000    0.000    0.405  11.000
#740.000  6.000   77.600  125.187  1152.336  12.000  4.000  126.170   26.125  37.000
# 41.257  0.421    2.821   26.649    81.241   0.687  0.005    2.855    2.885   2.116
# real    20860m24.573s user    389301m10.093s sys     117580m30.856s

# MOLS> time ./rlaMols 8 data/SpecsCollection/Euler/sudokudiagfull "" +count dom enu mindom "" "" 1 16 "" ""
# aborted:
#  N       rt  pl  bt        bv   bo    lar gcd     satc           t        ppc st      nds      lvs
#  8   +count dom enu    mindom  asc  relpr   1      149 5558884.136 3683388666  1 45118869 24923439
#    mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
#574.671  1.000    7.735  122.468   256.193   2.454  0.000   2.457    1.755  17.736
#444.000  0.000    0.000   30.435    93.162   1.000  0.000   0.019    0.000   0.000
#948.000  3.000   42.957  129.054  1413.599  14.000  1.000  32.655   17.438  27.000
# 31.588  0.170    2.857    1.414    76.703   0.796  0.000   1.130    1.392   1.673
#    mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
#525.097  1.492    3.917   34.194   148.751   1.654  0.000   1.566   10.528  19.421
# 16.000  1.020    0.000    0.000     0.371   1.000  0.000   0.000    0.371  14.000
#649.000  6.000  320.000  126.860  1334.864  13.000  2.000  38.397   27.923  28.000
# 27.363  0.206    2.420   19.743   106.485   0.934  0.003   1.263    3.375   1.349
# real    6438m23.513s user    92648m4.903s sys     1807m29.621s
# Seems less efficient than maxdegdom.


# laMols with wdL

# N=8:

# Optimising on tau-probs (MAX_TIME 30000s, rep=10000):
# sudokudiagfull_8_wdL_ave$ nomad np
# 98 52262039.513635   5.1        1.1        0.32       0.0001     0.2        0.0801
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 151 Total model evaluations: 14136 Cache hits: 7 Total number of evaluations: 158
# sudokudiagfull_8_wdL_ave$ time ./TAUscan 8 ../../sudokudiagfull "" enu wdL hash "5.1,1.1,0.32,0.0001,0.2,0.0801" 10000 10 all
# 10000 : 6.65219840175226301881e+05 5.22620395136348812339e+07 2.60748415147019011155e+09; 8.36926869526849777030e+07
# real    15m59.846s user    158m56.794s sys     0m20.880s
# MOLS$ time ./laMols 8 data/SpecsCollection/Euler/sudokudiagfull "" +count dom enu wdL "" "" 1 16 "5.1,1.1,0.32,0.0001,0.2,0.0801" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds      lvs          nsel         nsuel
#  8   +count dom enu  wdL   asc  relpr   1     1356 7399572.974 11578327788  0 80136490 53284567  2.917203e+00  2.528526e+00
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds        solc        tr  pelvals      dp
#535.63  0.82913   8.2303   125.81   233.68   2.2239  1.6386e-06    1.7311  0.92973  14.042
#    32        0        0   21.364   5.2273        1           0  0.000104        0       0
#   948        5   1966.7      200   1401.1       14           1    32.201   18.416      21
#34.355  0.42404   4.3526    1.471   92.171  0.93987   0.0012801    1.0784   1.0578  1.5688
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds        solc       tr  pelvals      dp
#470.37    1.645   3.0225   28.027   99.619   1.3673  2.4623e-05  0.81794   7.3719   15.53
#    16   1.0185        0        0  0.35398        1           0        0  0.35398       9
#   721        7   138.46   130.02   1382.4       13           3   32.707   26.102      22
#40.695  0.44725   2.5688   25.761   102.13  0.76359   0.0061631  0.95284   3.5009  1.2731
#      estlvs       uestlvs
#5.067401e+08  3.939564e+08
#2.994057e+05  1.555200e+05
#1.691066e+14  9.331200e+11
#7.806426e+10  2.304264e+09
#   dm0        w   ltausp        minp    meanp     maxp       sdd       tb
#5.2178   2.9844   3.9774     0.22349  0.36273  0.53454   0.13512  0.96891
#     0        2        1  2.7754e-08  0.14286  0.17339         0  0.00578
#   484        7   29.832         0.5      0.5  0.97753   0.47753   11.245
#6.3863  0.84702  0.85936     0.14696  0.10128  0.11903  0.081958  0.46269
# real    9164m23.235s user    123326m12.985s sys     2694m51.119s
# Close to prediction.
# Rerunning optimisation, first with rep=1000, 30000s:
# TAU/sudokudiagfull_8_wdL_ave$ nomad np2
# 1095 45017882.439864   2.1        0.130001   0.0001     0.0001     0.3        4.460004
# A termination criterion is reached: No termination (all). Mesh minimum precision reached (Algo)
# Blackbox evaluations: 1153 Total model evaluations: 92463 Cache hits: 279 Total number of evaluations: 1432
# Restarting with rep=10000 (30000s):
# $ nomad np3
# 163 49698255.154519   0.34       4          1.3001     0.6601     0.8        5.920004
# A termination criterion is reached: Maximum allowed time reached (Base) Success found and opportunistic strategy is used
# sudokudiagfull_8_wdL_ave$ time ./TAUscan 8 ../../sudokudiagfull "" enu wdL hash "0.34,4,1.3001,0.6601,0.8,5.920004" 10000 10 all
# 10000 : 4.99492027658674696710e+05 4.96982551545192016929e+07 5.08718259378250939399e+09; 1.04369604397867639804e+08
# real    14m32.905s user    144m15.326s sys     0m19.449s
# MOLS$ time ./laMols 8 ../../sudokudiagfull "" +count dom enu wdL "" "" 1 16 "0.34,4,1.3001,0.6601,0.8,5.920004" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds      lvs          nsel         nsuel
#  8   +count dom enu  wdL   asc  relpr   1     1356 7015767.864 11729337714  0 76307767 50877436  2.093870e+00  3.972918e+00
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds        solc       tr  pelvals      dp
#544.65   0.8798   8.9165   125.43   232.27    2.252  6.2917e-07   1.7139   1.0335  13.307
#    32        0        0   26.711       10        1           0        0        0       0
#   948        4     1700      200     1320       13           1   33.008   17.907      21
#43.633  0.39858   4.5451   1.7582    86.93  0.88952   0.0007932  0.87995   1.0934  1.7037
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds        solc      tr  pelvals      dp
#472.66   1.6925   2.6039   28.226    95.79   1.3363  2.6338e-05  0.7838   7.2497  14.837
#    16   1.0189        0        0  0.37879        1           0       0  0.37594       7
#   705        7      100    130.2   1419.9       13           3  34.646   26.248      22
#41.818  0.52523   2.3816   26.227    97.94  0.73025      0.0064  0.8589   3.4119  1.3963
#      estlvs       uestlvs
#2.739390e+08  8.539310e+08
#2.553698e+05  6.912000e+04
#4.848644e+12  3.386106e+13
#3.433098e+09  3.665193e+10
#   dm0        w  ltausp        minp    meanp     maxp       sdd       tb
#6.0132   3.0007  3.2246     0.23351    0.363  0.52549   0.12655  0.96477
#     0        2       1  1.4649e-06  0.14286  0.16824         0        0
#   454        7  16.334         0.5      0.5   0.9695    0.4695     10.5
#6.9635  0.89179  1.0597     0.15196  0.10421  0.11218  0.078986  0.31775
# real    8195m26.580s user    116929m27.874s sys     2389m3.215s

# Optimising on uni-probs (MAX_TIME 30000s, rep=10000):
# sudokudiagfull_8_wdL_ave$ nomad nprand
# 143 50136919.8        0.8        1.0001     0.32       0.3401     0.61       0.0001
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 167 Total model evaluations: 14155 Cache hits: 7 Total number of evaluations: 174
# sudokudiagfull_8_wdL_ave$ time ./TAUscan 8 ../../sudokudiagfull "" enu,rand wdL hash "0.8,1.0001,0.32,0.3401,0.61,0.0001" 10000 10 all
# 10000 : 1.29600000000000000000e+05 5.01369197999999999993e+07 5.66231040000000000000e+09; 1.21308330606101161837e+08
# real    14m31.253s user    143m53.732s sys     0m20.317s
# MOLS$ time ./laMols 8 data/SpecsCollection/Euler/sudokudiagfull "" +count dom enu wdL "" "" 1 16 "0.8,1.0001,0.32,0.3401,0.61,0.0001" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds      lvs          nsel         nsuel
#  8   +count dom enu  wdL   asc  relpr   1     1356 7823939.849 11546535598  0 78380431 52594518  3.138930e+00  3.017776e+00
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds        solc        tr  pelvals      dp
#532.34   0.8265   8.0694   125.91   234.55     2.23  2.0166e-06    1.9341  0.93412  13.777
#    32        0        0   19.913   9.0293        1           0  0.000125        0       0
#   948        4     1700      200   1293.2       13           1    14.157   15.514      22
#32.848  0.42258    4.355   1.4741   92.895  0.94573   0.0014201   0.85816   1.0625  1.6095
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds        solc       tr  pelvals      dp
#466.62   1.6694   2.7973   27.437   96.094   1.3505  2.4793e-05  0.89733   7.1968  15.244
#    16   1.0164        0        0  0.38536        1           0        0  0.35778       9
#   649        6      120   129.84   1528.5       15           3   18.728   25.788      23
#40.999  0.47775   2.4929   25.865   101.07  0.74819   0.0061912  0.95543   3.5127  1.3391
#      estlvs       uestlvs
#5.708022e+08  5.315715e+08
#3.102659e+05  1.296000e+05
#1.075456e+15  2.488320e+12
#3.183867e+11  5.184919e+09
#   dm0        w   ltausp        minp    meanp     maxp       sdd        tb
#5.2521   3.0397   3.1898     0.21933   0.3561  0.52869   0.13368    1.0679
#     0        2        1  5.3988e-09  0.16667   0.1728         0  0.001989
#   479        6    13.99         0.5      0.5  0.95357   0.45357    2.8044
#6.4929  0.85632  0.87497     0.14813  0.10029  0.11715  0.082173   0.13438
# real    8289m7.839s user    130398m59.854s sys     1422m39.130s




# laMols with newvars

# N=8:

# Optimising TAUscan via Nomad (MAX_TIME 20000s, rep=1000):
# sudokudiagfull_8_newv_ave$ nomad np
# aborted:
# 110  14222535.081796  -0.01      10        -10         -3         -8         10         10
# Restarted with MAX_TIME 30000s, rep=10000:
# sudokudiagfull_8_newv_ave$ nomad np2
# 161 20731045.589498  -0.88       8.77      -9.81      -2.91      -7.8        9.94      -9
# A termination criterion is reached: Maximum allowed time reached (Base) Success found and opportunistic strategy is used
# Blackbox evaluations: 168 Total model evaluations: 13140 Cache hits: 19 Total number of evaluations: 187
# sudokudiagfull_8_newv_ave$ time ./TAUscan 8 ../../sudokudiagfull "" enu newv hash "-0.88,8.77,-9.81,-2.91,-7.8,9.94,-9" 10000 10 all
# 10000 : 1.05081945798690160334e+04 2.07310455894979902441e+07 1.49216512955721320156e+10; 2.16453972836088309879e+08
# real    15m57.622s user    158m25.155s sys     0m19.033s
# sudokudiagfull_8_newv_ave$ time ./laMols 8 ../../sudokudiagfull "" +count dom enu newv "" "" 1 16 "-0.88,8.77,-9.81,-2.91,-7.8,9.94,-9" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  8   +count dom enu newv   asc  relpr   1     1356 14586191.149 15436707053  0 105236668 37673336 67563332        0
#    mu0  qfppc   pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
#603.058  0.938    11.947  123.342   240.545   2.418  0.000   2.457    1.252  13.162
# 32.000  0.000     0.000   22.652    10.000   1.000  0.000   0.000    0.000   0.000
#948.000  4.000  1700.000  200.000  1537.859  15.000  1.000  57.881   17.603  23.000
# 47.985  0.332     5.452    2.101    89.393   0.940  0.001   1.191    1.280   1.721
#    mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
#533.100  1.602    3.325   32.910   115.359   1.474  0.000   1.239    8.257  14.628
# 16.000  1.014    0.000    0.000     0.300   1.000  0.000   0.000    0.300   8.000
#741.000  7.000  173.333  128.992  1535.511  15.000  3.000  47.233   27.957  24.000
# 51.463  0.411    2.652   26.864   102.769   0.856  0.006   1.216    3.541   1.480
#       estlvs
#3.321028e+473
# 1.050819e+04
#5.609493e+480
#1.364891e+477
#    mu1      w      ltau   minp  meanp   maxp    sdd      tb
#336.678  2.793     0.004  0.269  0.398  0.552  0.128   1.346
# 32.000  2.000     0.000  0.000  0.143  0.143  0.000   0.000
#458.000  7.000  4676.565  0.500  0.500  1.000  0.500  19.466
# 17.553  0.988     2.218  0.161  0.117  0.146  0.098   0.393
# real    17182m30.284s user    243103m11.160s sys     9976m22.049s
# Reasonably close to the prediction.

# Rerunning with new version >= 0.99:

# Optimisation on tau-probs (30000s, rep=10000):
# TAU/sudokudiagfull_8_newv_ave$ nomad np3
# 51 43940955.892803   0.04       8         -9          6         -8         10         10
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 140 Total model evaluations: 12148 Cache hits: 9 Total number of evaluations: 149
# sudokudiagfull_8_newv_ave$ time ./TAUscan 8 ../../sudokudiagfull "" enu newv hash "0.04,8,-9,6,-8,10,10" 10000 10 all
# 10000 : 4.98015430554990121550e+05 4.39409558928033900593e+07 3.22267801544539605547e+09; 8.24790264012769165347e+07
# real    17m16.346s user    171m34.361s sys     0m20.906s
# MOLS> time ./laMols 8 data/SpecsCollection/Euler/sudokudiagfull "" +count dom enu newv "" "" 1 16 "0.04,8,-9,6,-8,10,10" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds      lvs          nsel         nsuel
#  8   +count dom enu newv   asc  relpr   1     1356 9110455.219 10274641589  0 74727811 44725294  2.612179e+00  2.262952e+00
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds        solc       tr  pelvals      dp
#560.52  0.92263   9.2973   124.92    240.2   2.3069  1.3332e-06   2.0463   1.0886  13.487
#    32        0        0   27.246   3.2934        1           0  8.9e-05        0       0
#   948        4     1700      200   1559.9       15           1   16.293   18.147      20
#  48.3    0.367   4.3006   1.8968   86.052  0.88138   0.0011547  0.89496   1.0771  1.7065
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds        solc      tr  pelvals      dp
#493.94   1.5706   3.0282   39.871    122.7    1.472  2.9424e-05  1.1183    7.587  15.241
#    16   1.0133        0        0  0.33058        1           0       0  0.33058       8
#   716        7      100   130.09   1404.5       14           3  18.237   29.048      21
#39.839  0.42494    2.568   31.039   103.87  0.83915    0.006667  1.0057   3.3086   1.313
#      estlvs       uestlvs
#3.499074e+08  2.737613e+08
#3.474443e+05  1.800000e+05
#5.988618e+14  2.612736e+11
#1.794935e+11  9.996202e+08
#   dm0        w  ltausp        minp     meanp     maxp       sdd        tb
#6.4668   2.4907  14.862      0.3329   0.43078  0.54017  0.095289    1.1074
#     0        2       1  3.0393e-08   0.14286  0.15877         0  0.003507
#   484        7  1229.2         0.5       0.5  0.99674   0.49674    3.1193
#7.1368  0.74929  24.865     0.14277  0.099033  0.11047  0.079695   0.22683
# real    9699m6.318s user    151840m55.228s sys     1791m25.693s
# Better than before, and nearly exactly matching the prediction.

# Optimisation with rep=1000:
# TAU/sudokudiagfull_8_newv_ave$ nomad np4
# 589  9858253.956097  -0.8981     8.8792   -10         -4.13      -5.9765     8.8376     9.0221
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 1262 Total model evaluations: 107261 Cache hits: 330 Total number of evaluations: 1592
# Restarting with rep=10000:
# TAU/sudokudiagfull_8_newv_ave$ nomad np5
# 1   76832750.915874  -0.8981     8.8792   -10         -4.13      -5.9765     8.8376     9.0221
# 139 20005661.703606  -0.7081    10        -10         -4.13      -5.9765    10          6.0221
# A termination criterion is reached: Maximum allowed time reached (Base) Success found and opportunistic strategy is used
# Blackbox evaluations: 144 Total model evaluations: 10106 Cache hits: 3 Total number of evaluations: 147
# sudokudiagfull_8_newv_ave$ time ./TAUscan 8 ../../sudokudiagfull "" enu newv hash "-0.7081,10,-10,-4.13,-5.9765,10,6.0221" 10000 10 all
# 10000 : 1.76981923583640614535e+04 2.00056617036055635563e+07 9.06934237047967050225e+09; 1.63793811437918596872e+08
# real    17m41.763s user    175m39.346s sys     0m20.223s
# MOLS> time ./laMols 8 data/SpecsCollection/Euler/sudokudiagfull "" +count dom enu newv "" "" 1 16 "-0.7081,10,-10,-4.13,-5.9765,10,6.0221" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds      lvs          nsel         nsuel
#  8   +count dom enu newv   asc  relpr   1     1356 17424747.950 19628803036  0 131567950 83409207 3.514199e+201  2.837893e+00
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds        solc      tr  pelvals      dp
#618.52  0.93617   12.451   122.86   240.01   2.4315    7.06e-07  2.3489   1.2651  13.071
#    32        0        0    24.15       10        1           0       0        0       0
#   948        4     1700      200   1537.9       15           2  22.378   21.273      23
#48.537  0.33363   5.3529   2.1154   90.124  0.95525  0.00093387  1.0585    1.311  1.7207
#   mu0   qfppc  pprunes  pmprune  pprobes   rounds       solc      tr  pelvals      dp
#548.74  1.6054   3.2297   33.395   117.95    1.502  1.585e-05  1.2362   8.3613  14.536
#    16  1.0137        0        0  0.29985        1          0       0  0.29985       7
#   783       7      360   129.54   1535.5       15          3  23.402   30.568      24
#54.718  0.4141   2.6735   26.828   103.44  0.87603  0.0048992   1.159   3.5849  1.4899
#       estlvs       uestlvs
#1.030070e+411  7.551567e+08
# 1.769819e+04  1.200000e+05
#1.039968e+418  1.517322e+12
#2.406919e+414  3.364070e+09
#   dm0        w      ltausp         minp    meanp     maxp      sdd      tb
#8.6852    2.732        2101      0.28097  0.40652  0.55403   0.1246  1.2513
#     0        2           1  3.3373e-237  0.14286  0.14311        0       0
#   554        7  7.1642e+05          0.5      0.5  0.99999  0.49998  6.0781
# 10.45  0.97717      3015.3      0.15991  0.11565  0.14307  0.09648  0.2347
# real    18578m52.189s user    290412m27.963s sys     3580m56.608s
# Very bad -- extreme nsel (and extreme minp, maxp).


# Optimising on ave+sd:
# TAU/sudokudiagfull_8_newv_avepsd$ nomad np
# 62  97459792.502697   0         -3          4         -1         -8          9         -8
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 143 Total model evaluations: 12147 Cache hits: 7 Total number of evaluations: 150
# TAU/sudokudiagfull_8_newv_avepsd$ time ./TAUscan 8 ../../sudokudiagfull "" enu newv hash "0,-3,4,-1,-8,9,-8" 10000 10 all
# 10000 : 8.53875718336112910208e+05 4.22981674242427935460e+07 1.22359599208937499300e+09; 5.51616250784542411566e+07
# real    17m34.461s user    174m18.258s sys     0m20.985s
# MOLS> time ./laMols 8 data/SpecsCollection/Euler/sudokudiagfull "" +count dom enu newv "" "" 1 16 "0,-3,4,-1,-8,9,-8" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds      lvs          nsel         nsuel
#  8   +count dom enu newv   asc  relpr   1     1356 9913785.608 11231497387  0 73107283 42916285  1.444084e+00  1.928622e+00
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds        solc      tr  pelvals      dp
#592.09  0.97405   10.119   123.69   241.44   2.3718  3.9747e-06  2.2493   1.3489  13.036
#    32        0        0   25.328   10.417        1           0       0        0       0
#   948        4     1740      200   1257.4       12           1  31.062   18.225      22
#54.604  0.32266   3.6209    2.184    83.72  0.86442   0.0019937  1.2022   1.2906  1.6448
#   mu0   qfppc  pprunes  pmprune  pprobes   rounds       solc      tr  pelvals      dp
#510.09  1.5684   2.9697   39.272   125.08    1.484   2.88e-05  1.1888   7.8406  14.673
#    16  1.0137        0        0  0.37453        1          0       0  0.35907       9
#   717       7       80   129.64   1522.6       15          3  38.049    29.68      23
#48.405  0.4163    2.465   29.292   102.45  0.84632  0.0066537  1.1567   3.4419  1.3666
#      estlvs       uestlvs
#1.324129e+08  2.025470e+08
#4.498047e+05  2.880000e+05
#3.496901e+11  3.023309e+11
#4.001048e+08  6.102648e+08
#   dm0        w  ltausp        minp    meanp      maxp       sdd       tb
#8.4604   2.4215  5.9777     0.32958  0.43338   0.55158   0.10286   1.2118
#     0        2       1  0.00015064  0.14286   0.16671         0        0
#   570        7  49.824         0.5      0.5   0.96204   0.46204   11.547
#9.1702  0.57984  1.9315     0.13683  0.08679  0.099561  0.080926  0.49055
# real    11913m31.656s user    165229m45.630s sys     2972m20.220s
# Optimisation with rep=1000 (30000s):
# TAU/sudokudiagfull_8_newv_avepsd$ nomad np2
# 1093  15357260.964723  -0.992247   8.731333  -7.093113  -6.057528  -6.592397  -9.53127    5.849547
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 1409 Total model evaluations: 114662 Cache hits: 407 Total number of evaluations: 1816
# TAU/sudokudiagfull_8_newv_avepsd$ time ./TAUscan 8 ../../sudokudiagfull "" enu newv hash "-0.992247,8.731333,-7.093113,-6.057528,-6.592397,-9.53127,5.849547" 1000 10 all
# 1000 : 1.69131678364126940437e+04 9.50013010029290443708e+06 4.57129962881769233523e+09; 1.46381020625100152014e+08
# real    1m44.405s user    17m13.39  sys     0m1.833s
# Restarting with rep=10000, 100000s:
# TAU/sudokudiagfull_8_newv_avepsd$ nomad np3
# 1   8460086765.894501  -0.992247   8.731333  -7.093113  -6.057528  -6.592397  -9.53127    5.849547
# 495   94547897.808717  -0.996612  -6.002258  -1.950463  -2.989647  -1.999793   7.9957    -6.0169
# A termination criterion is reached: Maximum allowed time reached (Base) Success found and opportunistic strategy is used
# lackbox evaluations: 504 Total model evaluations: 44530 Cache hits: 71 Total number of evaluations: 575
# TAU/sudokudiagfull_8_newv_avepsd$ time ./TAUscan 8 ../../sudokudiagfull "" enu newv hash "-0.996612,-6.002258,-1.950463,-2.989647,-1.999793,7.9957,-6.0169" 10000 10 all
# 10000 : 6.90085311739909535106e+05 4.05049844151632844842e+07 1.00450161774132871878e+09; 5.40429133935541895626e+07
# real    15m43.488s user    156m11.512s sys     0m19.623s
# MOLS> time ./laMols 8 data/SpecsCollection/Euler/sudokudiagfull "" +count dom enu newv "" "" 1 16 "-0.996612,-6.002258,-1.950463,-2.989647,-1.999793,7.9957,-6.0169" "" ""
# running on server2 XXX


# Optimisation on uni-probs (30000s, rep=10000):
# TAU/sudokudiagfull_8_newv_ave$ nomad np3rand
# 96 41718972.435     -0.59       3          5         -1         -8          9         -9
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 152 Total model evaluations: 14177 Cache hits: 10 Total number of evaluations: 162
# sudokudiagfull_8_newv_ave$ time ./TAUscan 8 ../../sudokudiagfull "" enu,rand newv hash "-0.59,3,5,-1,-8,9,-9" 10000 10 all
# 10000 : 5.40000000000000000000e+05 4.17189724350000000013e+07 1.57464000000000000000e+09; 6.88188593080104786350e+07
# real    16m51.033s user    167m9.914s sys     0m20.936s
# MOLS> time ./laMols 8 data/SpecsCollection/Euler/sudokudiagfull "" +count dom enu newv "" "" 1 16 "-0.59,3,5,-1,-8,9,-9" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds      lvs          nsel         nsuel
#  8   +count dom enu newv   asc  relpr   1     1356 10554552.661 10990716013  0 72800495 42496492  1.431808e+00  1.916139e+00
#   mu0    qfppc  pprunes  pmprune  pprobes  rounds        solc        tr  pelvals      dp
#592.86  0.97488   10.098   123.67   242.03  2.3774  4.0919e-06     2.411    1.353  13.008
#    32        0        0   23.243   3.0488       1           0  0.000104        0       0
#   948        4     1740      200   1257.4      13           1    22.062   18.116      22
#54.412  0.31918   3.5958   2.1951   83.833  0.8656   0.0020228    1.0215   1.2964   1.639
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds        solc      tr  pelvals      dp
#512.42   1.5534   3.0287   40.176   127.77   1.4959  2.8991e-05  1.3062   7.9166  14.645
#    16   1.0154        0        0  0.36036        1           0       0  0.36036       9
#   717        7       80   130.41   1391.1       14           3  28.443    29.68      23
#47.719  0.39712   2.4489   29.143    102.2  0.85319   0.0066935  1.1491   3.4126  1.3581
#      estlvs       uestlvs
#1.296175e+08  1.985262e+08
#4.252169e+05  2.880000e+05
#1.434981e+12  2.418647e+11
#6.953566e+08  5.575715e+08
#   dm0        w  ltausp        minp     meanp      maxp       sdd        tb
#8.5194   2.4023  6.4506     0.33639     0.436   0.54789  0.098354    1.2793
#     0        2       1  0.00063167   0.14286   0.16671         0  0.003295
#   570        7  931.56         0.5       0.5   0.99775   0.49775    3.3887
#9.2946  0.56372   3.777     0.13251  0.085458  0.098459  0.078008   0.25048
# real    11208m10.701s user    175909m12.670s sys     1492m28.953s
# Somewhat better than tau-probs; again very close to prediction.
# Optimisation with rep=1000:
# TAU/sudokudiagfull_8_newv_ave$ nomad np4rand
# 1280 28375875.648      0.555941   8.973638   0.068451   2.206301  -9.795013  -2.136567   2.410295
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 1337 Total model evaluations: 105044 Cache hits: 389 Total number of evaluations: 1726
# Restarting with rep=10000:
# TAU/sudokudiagfull_8_newv_ave$ nomad np5rand
# 1  48640186.5552     0.555941   8.973638   0.068451   2.206301  -9.795013  -2.136567   2.410295
# 76 40243102.392      1          9          3.068451   2.206301 -10         -4.136567  -2.589705
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 147 Total model evaluations: 12144 Cache hits: 4 Total number of evaluations: 151
# Only a small improvement over the previous optimisation.
# sudokudiagfull_8_newv_ave$ time ./TAUscan 8 ../../sudokudiagfull "" enu,rand newv hash "1,9,3.068451,2.206301,-10,-4.136567,-2.589705" 10000 10 all
# 10000 : 1.72800000000000000000e+05 4.02431023919999999998e+07 1.49299200000000000000e+10; 2.21661274357220159582e+08
# real    16m4.280s user    159m8.346s sys     0m19.030s
# MOLS> time ./laMols 8 data/SpecsCollection/Euler/sudokudiagfull "" +count dom enu newv "" "" 1 16 "1,9,3.068451,2.206301,-10,-4.136567,-2.589705" "" ""
# running on server2 XXX

# Optimising on ave+sd (rep=10000):
# TAU/sudokudiagfull_8_newv_avepsd$ nomad nprand
# 127  99750606.009699  -0.64      -1         -3         -1         -5          8         -2
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 152 Total model evaluations: 12139 Cache hits: 4 Total number of evaluations: 156
# sudokudiagfull_8_newv_avepsd$ time ./TAUscan 8 ../../sudokudiagfull "" enu,rand newv hash "-0.64,-1,-3,-1,-5,8,-2" 10000 10 all
# 10000 : 3.24000000000000000000e+05 3.99461783400000000001e+07 1.03680000000000000000e+09; 5.98044276696989289849e+07
# real    16m45.640s user    166m25.579s sys     0m20.467s
# MOLS> time ./laMols 8 data/SpecsCollection/Euler/sudokudiagfull "" +count dom enu newv "" "" 1 16 "-0.64,-1,-3,-1,-5,8,-2" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds      lvs          nsel         nsuel
#  8   +count dom enu newv   asc  relpr   1     1356 9095023.585 9522817315  0 69806385 41529625  1.800393e+00  1.724436e+00
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds       solc        tr  pelvals      dp
#551.41  0.91239   9.3304   125.28   240.63   2.2994  1.556e-06    2.1641   1.0264  13.679
#    32        0        0   31.589       10        1          0  0.000113        0       0
#   948        4     1700      200   1559.9       15          1    21.926   16.794      21
#42.554  0.37537   4.4445   1.6707   86.687  0.88696  0.0012474   0.89153   1.0251  1.6712
#   mu0    qfppc  pprunes  pmprune  pprobes  rounds        solc      tr  pelvals      dp
#489.79   1.5679    3.143   40.859   123.91  1.4795  3.1592e-05  1.2123   7.5219  15.403
#    16   1.0141        0        0  0.34662       1           0       0  0.34662       9
#   701        7      120   130.14   1367.6      13           3  18.588   29.048      22
#37.293  0.42536   2.6457   31.528   104.47   0.843   0.0069396  1.0586   3.2848  1.2641
#      estlvs       uestlvs
#1.761443e+08  1.650254e+08
#4.429427e+05  1.800000e+05
#1.801171e+13  5.308416e+10
#8.731684e+09  3.119578e+08
#   dm0        w  ltausp        minp     meanp     maxp       sdd        tb
# 5.968   2.4687  10.913      0.3333   0.43293  0.54368  0.097197    1.1713
#     0        2       1  4.4912e-07   0.14286  0.16673         0  0.004204
#   502        7     216         0.5       0.5  0.99002   0.49002    3.2814
#6.5217  0.72317  5.7416     0.13988  0.096776  0.11166  0.080805   0.17694
# real    9680m8.180s user    151583m43.590s sys     1976m28.724s



squares A B aux
rred A B aux
ls A B aux
rprod A aux B
diag A B aux
antidiag A B aux
box A B aux
