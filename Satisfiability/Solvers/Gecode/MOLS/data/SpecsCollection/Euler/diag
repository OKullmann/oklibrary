# Counts for N >= 2:
# 0, 1, 4, 12, 0, 26848
# MOLS> time ./gcMols 7 data/SpecsCollection/Eulerdiag "" count dom mindom "" 1
# domain-prop min-dom-var bin-branch-min 26848 18656.070 88436799029 432177741 864409177 36

# TODO: Update to being the inverse case, and having the non-inverse case also.

# laMols with wdL:

# N=7:

# Optimising TAUscan via Nomad (MAX_TIME 10000s, rep=1000):
# TAU_diag_7_wdL_ave> nomad np
# 280 1122362.11933    0.0659     5.321      0.0322     0.0307     0.1311
# Blackbox evaluations: 930 Total model evaluations: 85368 Cache hits: 332 Total number of evaluations: 1262
# Reproduction:
# TAU_diag_7_wdL_ave> time ./TAUscan 7 ../diag "" wdL hash "0.0659,5.321,0.0322,0.0307,0.1311" 1000 10 all
# 1000 : 1.77202502027415349950e+04 1.37842321428841667137e+06 5.87668732711635954984e+07; 3.29959781085172647272e+06
# real    0m58.229s user    9m24.357s sys     0m3.920s
# TAU_diag_7_newv_ave> time ./laMols 7 ../diag "" +count dom enu wdL "" "" 1 16 "0.0659,5.321,0.0322,0.0307,0.1311" "" ""
# XXX running on server

# Alternative optimisation on ave+sd (MAX_TIME 10000s, rep=1000):
# TAU_diag_7_wdL_avepsd> nomad np
# 761  3004861.403701   0.629484   6.005      0.0611     0.090428   0.329676
# Blackbox evaluations: 926 Total model evaluations: 83634 Cache hits: 321 Total number of evaluations: 1247
# Reproduction:
# TAU_diag_7_wdL_avepsd> time ./TAUscan 7 ../diag "" wdL hash "0.629484,6.005,0.0611,0.090428,0.329676" 1000 10 all
# 1000 : 6.58041524238829277138e+03 1.37858606658143297022e+06 4.39480147168041214500e+07; 2.79211517483538094143e+06
# real	0m58.053s user	9m27.419s sys	0m3.807s
# TAU_diag_7_wdL_avepsd> time ./laMols 7 ../diag "" +count dom enu wdL "" "" 1 16 "0.629484,6.005,0.0611,0.090428,0.329676" "" ""
# XXX running on server

# Alternative optimisation on max (MAX_TIME 10000s, rep=1000):
# TAU_diag_7_wdL_max> nomad np
# 370  14928793.195599   7          1.1217     0.2405     0.0101     5.89
# Blackbox evaluations: 483 Total model evaluations: 42393 Cache hits: 43 Total number of evaluations: 526
# Reproduction:
# TAU_diag_7_wdL_max> time ./TAUscan 7 ../diag "" wdL hash "7,1.1217,0.2405,0.0101,5.89" 1000 10 all
# 1000 : 3.22201429482957059349e+04 1.43100161891935225094e+06 1.39732496796523975499e+07; 1.57285995430938479183e+06
# real	1m2.333s user	10m10.390s sys	0m2.866s
# TAU_diag_7_wdL_max> time ./laMols 7 ../diag "" +count dom enu wdL "" "" 1 16 "7,1.1217,0.2405,0.0101,5.89" "" ""
# XXX running on server

# Alternative optimisation on sd (MAX_TIME 10000s, rep=1000):
# TAU_diag_7_wdL_sd> nomad np
# 685  1441925.992992   6.56002    1.340003   0.090004   0.070092   1.249996
# Blackbox evaluations: 903 Total model evaluations: 84479 Cache hits: 186 Total number of evaluations: 1089
# Reproduction:
# TAU_diag_7_wdL_sd> time ./TAUscan 7 ../diag "" wdL hash "6.56002,1.340003,0.090004,0.070092,1.249996" 1000 10 all
# 1000 : 5.09034964737745127067e+02 1.52098020053949505166e+06 1.66490530342773907714e+07; 1.74201337405851910046e+06
# real    1m4.956s user    10m26.296s sys     0m2.187s
# TAU_diag_7_wdL_sd> time ./laMols 7 ../diag "" +count dom enu wdL "" "" 1 16 "6.56002,1.340003,0.090004,0.070092,1.249996" "" ""
# XXX running on server

# laMols with newvars:

# N=7:

# Optimising TAUscan via Nomad (MAX_TIME 10000s, rep=1000):
# TAU_diag_7_newv_ave> nomad np
# TAU_diag_7_newv_ave
# 762   51270.907141  -0.9756     9.98      -8.0      -10.0       -4.9712    -9.0441
# Blackbox evaluations: 869 Total model evaluations: 78850 Cache hits: 249 Total number of evaluations: 1118
# Reproduction:
# TAU_diag_7_newv_ave> time ./TAUscan 7 ../diag "" newv hash "-0.9756,9.98,-8.0,-10.0,-4.9712,-9.0441" 1000 10 all
# 1000 : 1.69139315560917827530e+03 3.97064784912829519897e+05 2.97720113924608884437e+08; 9.43046199495096287137e+06
# real	0m58.960s user	9m34.619s sys	0m3.802s
# TAU_diag_7_newv_ave> time ./laMols 7 ../diag "" +count dom enu newv "" "" 1 16 "-0.9756,9.98,-8.0,-10.0,-4.9712,-9.0441" "" ""
#   N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#   7   +count dom enu newv   asc  relpr   1    26848   47489.703  188609629  0  1951105  522098  1429007        0
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc     tr  pelvals      dp
#346.549  1.118   43.690  119.521  150.204   2.300  0.000  0.611    3.259  12.560
# 12.000  0.000    0.000   23.171   25.000   1.000  0.000  0.000    0.000   0.000
#618.000  4.000  300.000  200.000  721.478   7.000  2.000  5.209   36.364  20.000
# 48.907  0.332   14.136   11.001   53.995   0.589  0.027  0.321    2.595   2.100
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds    solc     tr  pelvals      dp
#261.081  2.235   14.742   20.938   31.592   1.029   0.019  0.106    6.809  14.289
#  8.000  1.042    0.000    0.000    0.525   1.000   0.000  0.000    0.525   8.000
#418.000  6.000  628.571  129.565  746.224   9.000  13.000  4.360   28.406  21.000
# 36.233  0.632   20.392   12.583   30.683   0.199   0.297  0.126    3.789   1.763
#        estlvs
#1.467359e+4568
#  1.691393e+03
#2.060762e+4573
#          -nan
#    mu1      w      ltau   minp  meanp   maxp    sdd     tb
#192.968  3.737     0.984  0.215  0.320  0.541  0.140  0.472
# 12.000  2.000     0.000  0.000  0.167  0.167  0.000  0.000
#322.000  6.000  8664.097  0.500  0.500  1.000  0.500  1.160
# 28.505  1.417    64.308  0.181  0.140  0.227  0.134  0.145
# real    58m6.418s user    791m29.709s sys     66m35.855s

# Alternative optimisation on ave+sd (MAX_TIME 10000s, rep=1000):
# TAU_diag_7_newv_avepsd> nomad np
# 686   222857.446703  -0.9999     9.999839  -7.820144  -9.9364    -8.6339   -10
# Blackbox evaluations: 903 Total model evaluations: 80876 Cache hits: 180 Total number of evaluations: 1083
# Reproduction:
# TAU_diag_7_newv_avepsd> time ./TAUscan 7 ../diag "" newv hash "-0.9999,9.999839,-7.820144,-9.9364,-8.6339,-10" 1000 10 all
# 1000 : 1.56096995199663832810e+03 5.98886351330175174681e+04 2.60854291619489208642e+06; 1.62968811570000526714e+05
# real    0m59.716s user    9m44.185s sys     0m3.934s
# TAU_diag_7_newv_avepsd> time ./laMols 7 ../diag "" +count dom enu newv "" "" 1 16 "-0.9999,9.999839,-7.820144,-9.9364,-8.6339,-10" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu newv   asc  relpr   1    26848   50693.238  187850164  0  1944277  520199  1424078        0
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc     tr  pelvals      dp
#346.748  1.115   43.510  119.534  150.628   2.302  0.000  0.664    3.271  12.560
# 12.000  0.000    0.000   20.290   25.000   1.000  0.000  0.000    0.000   0.000
#618.000  4.000  300.000  200.000  721.478   7.000  2.000  5.012   36.364  20.000
# 48.931  0.323   13.932   11.020   54.016   0.590  0.027  0.347    2.609   2.106
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds    solc     tr  pelvals      dp
#261.256  2.234   14.851   21.009   31.716   1.029   0.019  0.114    6.821  14.287
#  8.000  1.042    0.000    0.000    0.525   1.000   0.000  0.000    0.525   8.000
#418.000  6.000  628.571  129.565  746.224   9.000  13.000  4.162   29.565  21.000
# 36.288  0.630   20.412   12.595   30.728   0.200   0.297  0.134    3.791   1.773
#        estlvs
#1.813724e+4029
#  1.560970e+03
#2.085378e+4034
#          -nan
#    mu1      w       ltau   minp  meanp   maxp    sdd     tb
#193.081  3.738      1.115  0.216  0.320  0.540  0.140  0.509
# 12.000  2.000      0.000  0.000  0.167  0.167  0.000  0.000
#322.000  6.000  11343.936  0.500  0.500  1.000  0.500  1.299
# 28.489  1.418     82.954  0.181  0.140  0.224  0.133  0.152
# real    61m52.527s user    844m53.247s sys     75m6.232s
# Leaf-wise about 0.5 % better than ave.

# Alternative optimisation on max (MAX_TIME 10000s, rep=1000):
# TAU_diag_7_newv_max> nomad np
# 190   9303351.176157  -0.9       -8          2         -6         -7          3
# Blackbox evaluations: 882 Total model evaluations: 80795 Cache hits: 168 Total number of evaluations: 1050
# Reproduction:
# TAU_diag_7_newv_max> time ./TAUscan 7 ../diag "" newv hash "-0.9,-8,2,-6,-7,3" 1000 10 all
# 1000 : 2.20320275474202881796e+04 9.40902016769837657989e+05 9.30335117615654637666e+06; 1.16736712124257212724e+06
# real    0m59.616s user    9m38.489s sys     0m3.194s
# TAU_diag_7_newv_max> time ./laMols 7 ../diag "" +count dom enu newv "" "" 1 16 "-0.9,-8,2,-6,-7,3" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu newv   asc  relpr   1    26848   49912.740  160996726  0  1453356  450644  1002712        0
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc     tr  pelvals      dp
#360.854  1.032   35.505  122.343  176.486   2.404  0.001  0.704    3.023  11.790
# 12.000  0.000    0.000   23.077   11.538   1.000  0.000  0.000    0.000   0.000
#618.000  3.000  300.000  200.000  831.266  11.000  4.000  5.886   37.741  20.000
# 48.515  0.210   12.125    9.566   70.459   0.775  0.034  0.402    2.962   2.028
#    mu0  qfppc  pprunes  pmprune   pprobes  rounds    solc     tr  pelvals      dp
#268.700  1.989   22.261   26.901    57.485   1.207   0.026  0.203    8.769  13.530
#  8.000  1.045    0.000    0.000     0.533   1.000   0.000  0.000    0.533   7.000
#416.000  6.000  840.000  133.333  1160.989  13.000  13.000  7.840   32.888  21.000
# 47.274  0.605   27.267   19.425    68.992   0.575   0.326  0.294    5.039   1.590
#      estlvs
#5.480369e+06
#2.040719e+04
#5.675051e+09
#3.260065e+07
#    mu1      w       ltau   minp  meanp   maxp    sdd     tb
#205.771  3.225     14.896  0.260  0.354  0.481  0.097  0.478
# 12.000  2.000      1.384  0.001  0.167  0.184  0.000  0.000
#322.000  6.000  13045.220  0.500  0.500  0.984  0.484  1.259
# 27.874  1.172     64.754  0.141  0.124  0.165  0.086  0.174
# real    64m32.362s user    831m52.740s sys     58m47.665s
# Leaf-wise about 42 % better than ave (the best result).

# Alternative optimisation on sd (MAX_TIME 10000s, rep=1000):
# TAU_diag_7_newv_sd> nomad np
# 606  420020.055977  -0.098998   9.9886    -6.945022  -5.0319     0.704342  -0.9666
# Blackbox evaluations: 867 Total model evaluations: 74796 Cache hits: 182 Total number of evaluations: 1049
# TAU_diag_7_newv_sd> time ./TAUscan 7 ../diag "" newv hash "-0.098998,9.9886,-6.945022,-5.0319,0.704342,-0.9666" 1000 10 all
# 1000 : 1.57161660175023578634e+03 4.79226144587572918624e+05 2.42036864476414050965e+08; 7.75619620086595242628e+06
# real    1m4.020s user    10m8.147s sys     0m2.322s
# TAU_diag_7_newv_sd> time ./laMols 7 ../diag "" +count dom enu newv "" "" 1 16 "-0.098998,9.9886,-6.945022,-5.0319,0.704342,-0.9666" "" ""
#   N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu newv   asc  relpr   1    26848   51239.419  200696733  0  2081404  559979  1521425        0
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc     tr  pelvals      dp
#342.408  1.148   45.477  119.575  144.510   2.254  0.001  0.596    3.088  12.698
# 12.000  0.000    0.000   23.171   37.398   1.000  0.000  0.000    0.000   0.000
#618.000  4.000  300.000  200.000  721.478   7.000  3.000  4.996   36.364  20.000
# 49.992  0.428   14.964   10.851   52.723   0.572  0.032  0.346    2.454   2.114
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds    solc     tr  pelvals      dp
#257.396  2.265   13.439   20.093   29.663   1.024   0.017  0.098    6.546  14.443
#  8.000  1.042    0.000    0.000    0.525   1.000   0.000  0.000    0.525   8.000
#418.000  6.000  628.571  127.843  746.224   9.000  13.000  4.132   27.679  21.000
# 35.437  0.655   20.052   12.352   28.803   0.180   0.291  0.121    3.701   1.764
#      estlvs
#1.153339e+49
#1.571617e+03
#6.237652e+54
#8.241064e+51
#    mu1      w   ltau   minp  meanp   maxp    sdd     tb
#190.935  3.717  0.010  0.213  0.320  0.520  0.135  0.474
# 12.000  2.000  0.000  0.000  0.167  0.169  0.000  0.000
#322.000  6.000  0.638  0.500  0.500  0.990  0.490  1.218
# 28.891  1.389  0.030  0.173  0.138  0.211  0.130  0.172
# real    70m50.061s user    853m59.423s sys     94m51.322s
# Leaf-wise about 6 % worse than ave (the worst result).

squares A B aux
rred A B aux
ls A B aux
rprod A B aux
diag A
antidiag A
