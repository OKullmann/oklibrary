# Counts for N >= 2:
# 0, 0, 1, 8, 0, 64

# QUESTION: also for C there should be additional symmetry-breaking?
# "wcred C" is wrong (unsolvable for N=4).



# gcMols:

# N=6:

# MOLS$ ./gcMols 6 data/SpecsCollection/3MOLS/symmb "" count - - - - 1 1 "t,5"
# Clearly best is dom+maxdegdom (bin or enu):
#  6    count dom bin maxdegdom  asc   1         0       0.108        563087        3412        6823     11  0
#  6    count dom bin maxdegdom desc   1         0       0.108        563046        3412        6823     14  0
#  6    count dom enu maxdegdom  asc   1         0       0.105        555271        3412        6092     11  0
#  6    count dom enu maxdegdom desc   1         0       0.105        555271        3412        6092     14  0

# N=7:

# MOLS$ time ./gcMols 7 data/SpecsCollection/3MOLS/symmb "" +count dom enu maxdegdom desc 1 16 ""
# aborted after 8h wallclock-time without finding a solution.
# MOLS$ time ./gcMols 7 data/SpecsCollection/3MOLS/symmb "" +count dom enu maxdegdom "" 1 16 "t,100000"
#  N       rt  pl  bt        bv   bo gcd      satc           t           ppc        flvs        gnds     gd st
#  7   +count dom enu maxdegdom  asc   1         0  891005.335 1768726052048 11935465536 20060223747     44  1
# real    1666m40.012s user    14850m5.340s sys     8432m8.360s



# rlaMols:

# N=6:

# MOLS> time ./rlaMols 6 data/SpecsCollection/3MOLS/symmb "" count dom - - "" "" 1 1 "lvs,300" ""
# solved exactly by bin/enu+maxdegdom/first
#  N       rt  pl  bt        bv   bo    lar gcd     satc           t        ppc st      nds      lvs
#  6    count dom bin maxdegdom  asc  relpr   1        0       2.292      12910  0      203      102
#  6    count dom bin     first  asc  relpr   1        0       5.863      15727  0      347      174
#  6    count dom enu maxdegdom  asc  relpr   1        0       2.185      12880  0      200      102
#  6    count dom enu     first  asc  relpr   1        0       4.378      17618  0      301      199
# So enu+maxdegdom appears best.

# N=7:

# MOLS> time ./rlaMols 7 data/SpecsCollection/3MOLS/symmb "" +count dom enu maxdegdom "" "" 1 16 ""
#  N       rt  pl  bt        bv   bo    lar gcd     satc           t        ppc st      nds    inds      lvs
#  7   +count dom enu maxdegdom  asc  relpr   1       64   90238.159  128552167  0  1546430  660303   886127
#     mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
# 871.530  0.444   20.566  124.000  126.086   1.497  0.000   1.480    0.163  15.908
# 588.000  0.000    2.811   74.689   74.278   1.000  0.000   0.075    0.000   0.000
#1104.000  3.000   84.493  129.762  757.654   8.000  1.000  10.599   28.631  29.000
#  38.222  0.510    5.941    0.523   39.328   0.630  0.003   0.615    0.352   2.857
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
#821.221  1.897    1.454   17.407   29.456   1.123  0.000   0.391    2.414  18.636
#270.000  1.065    0.000    0.000    0.247   1.000  0.000   0.000    0.247  11.000
#902.000  5.000  119.403  126.579  777.803   8.000  1.000  11.219   24.362  30.000
# 35.200  0.403    2.728   23.048   46.710   0.408  0.008   0.611    1.302   2.743
# real    115m20.932s user    1503m58.171s sys     116m45.786s
# MOLS> time ./rlaMols 7 data/SpecsCollection/3MOLS/symmb "" +count dom - maxdegdom "" "" 1 16 ""
#  N       rt  pl  bt        bv   bo    lar gcd     satc           t        ppc st      nds      lvs
#  7   +count dom bin maxdegdom  asc  relpr   1       64  115246.474  127377962  0  1731913   865957
#     mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
# 858.855  0.358   22.547  124.029  120.063   1.400  0.000   1.570    0.129  21.877
# 375.000  0.000    2.811   74.689   35.733   1.000  0.000   0.125    0.000   0.000
#1104.000  3.000  379.104  130.137  757.654   8.000  1.000  32.296   28.631  43.000
#  42.506  0.490    7.221    0.537   36.895   0.597  0.003   1.117    0.315   5.161
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
#822.351  1.891    1.500   17.717   30.216   1.127  0.000   0.451    2.449  23.876
#255.000  1.048    0.000    0.000    0.247   1.000  0.000   0.000    0.247  11.000
#902.000  5.000  158.696  126.579  777.803   8.000  2.000  36.873   24.362  44.000
# 34.539  0.396    2.827   23.282   47.258   0.414  0.008   0.804    1.298   4.964
#  N       rt  pl  bt        bv   bo    lar gcd     satc           t        ppc st      nds      lvs
#  7   +count dom enu maxdegdom  asc  relpr   1       64   95713.509  128552167  0  1546430   886127
#     mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
# 871.530  0.444   20.566  124.000  126.086   1.497  0.000   1.594    0.163  15.908
# 588.000  0.000    2.811   74.689   74.278   1.000  0.000   0.163    0.000   0.000
#1104.000  3.000   84.493  129.762  757.654   8.000  1.000  29.820   28.631  29.000
#  38.222  0.510    5.941    0.523   39.328   0.630  0.003   0.880    0.352   2.857
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
#821.221  1.897    1.454   17.407   29.456   1.123  0.000   0.422    2.414  18.636
#270.000  1.065    0.000    0.000    0.247   1.000  0.000   0.000    0.247  11.000
#902.000  5.000  119.403  126.579  777.803   8.000  1.000  33.628   24.362  30.000
# 35.200  0.403    2.728   23.048   46.710   0.408  0.008   0.709    1.302   2.743
# real    285m23.526s user    3516m0.043s sys     172m49.997s
# enu and lvs likely indistinguishable, and thus enu faster (fewer nodes).



# laMols with wdL:

# N=7:

# Optimising TAUscan on ave via Nomad (MAX_TIME 10000s, rep=1000):
# TAU_symmb_7_wdL_ave> nomad np
# 490  1214577.907397   7          1.100002   2.099992   0.0001     0.100012
# Blackbox evaluations: 529 Total model evaluations: 48282 Cache hits: 24 Total number of evaluations: 553
# Reproduction:
# TAU_symmb_7_wdL_ave$ > time ./TAUscan 7 ../symmb "" wdL hash "7,1.100002,2.099992,0.0001,0.100012" 1000 10 all
# 1000 : 1.32682356424083081254e+04 1.65880469067761993540e+06 8.87526403909107470317e+07; 4.42797351995885024053e+06
# real    1m18.259s user    12m45.314s sys     0m1.653s
# Reproduction failed.
# Testing it:
# 3MOLS/TAU_symmb_7_wdL_ave$ time ./laMols 7 ../symmb "" +count dom enu wdL "" "" 1 16 "7,1.100002,2.099992,0.0001,0.100012" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu  wdL   asc  relpr   1       64  206611.863  262756875  0  2256403  707199  1549204        0
#     mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
# 833.320  0.679   12.899  125.915  158.190   1.843  0.000   1.694    0.328  10.764
# 551.000  0.000    2.873   60.796    7.825   1.000  0.000   0.049    0.000   0.000
#1104.000  5.000  810.169  134.286  953.446   9.000  0.000  29.991   25.000  18.000
#  34.580  0.527    4.013    0.951   64.251   0.804  0.000   1.006    0.479   1.613
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
#775.700  1.775    4.659   17.320   43.166   1.227  0.000   0.527    2.668  12.106
#270.000  1.020    0.000    0.000    0.244   1.000  0.000   0.000    0.244   6.000
#907.000  6.000  400.000  127.994  958.419   9.000  1.000  25.111   20.970  19.000
# 42.694  0.614    5.082   25.064   73.545   0.587  0.006   0.929    1.852   1.466
#      estlvs
#6.030184e+09
#9.666645e+03
#6.025207e+15
#5.469587e+12
#       mu1      w   ltau   minp  meanp   maxp    sdd      tb
#154735.511  3.191  0.000  0.209  0.340  0.511  0.133   1.442
# 34571.000  2.000  0.000  0.000  0.167  0.177  0.000   0.063
#268851.000  6.000  0.000  0.500  0.500  0.990  0.490  20.690
# 11678.796  0.932  0.000  0.133  0.098  0.173  0.109   0.559
# real    262m20.139s user    3443m31.875s sys     145m33.751s
# Considerably worse than rlaMols.

# Optimising TAUscan on ave+sd via Nomad (MAX_TIME 10000s, rep=1000):
# TAU_symmb_7_wdL_avepsd> nomad np
# 423  4485388.45589    7          7.0        6.000001   0.0001     5.1
# Blackbox evaluations: 526 Total model evaluations: 50360 Cache hits: 67 Total number of evaluations: 593
# Reproduction:
# TAU_symmb_7_wdL_avepsd$ time ./TAUscan 7 ../symmb "" wdL hash "7,7.0,6.000001,0.0001,5.1" 1000 10 all
# 1000 : 1.41884047413830706290e+04 2.12834580793314783455e+06 8.18188132397274710383e+07; 5.63517297822012325742e+06
# real    1m15.117s user    12m18.977s sys     0m1.660s
# Reproduction failed; values worse than above.
# Testing it:
# 3MOLS/TAU_symmb_7_wdL_avepsd$ time ./laMols 7 ../symmb "" +count dom enu wdL "" "" 1 16 "7,7.0,6.000001,0.0001,5.1" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu  wdL   asc  relpr   1       64  284190.346  311637216  0  2869012  848730  2020282        0
#     mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
# 836.153  0.683   12.628  125.913  160.498   1.857  0.000   1.957    0.321  10.736
# 574.000  0.000    2.873   63.033    6.582   1.000  0.000   0.021    0.000   0.000
#1104.000  5.000  917.308  134.495  973.436  10.000  0.000  28.300   23.659  20.000
#  32.776  0.529    3.888    0.970   65.408   0.816  0.000   1.094    0.465   1.546
#    mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
#784.225  1.698    4.872   18.017    44.322   1.233  0.000   0.618    2.639  12.042
#270.000  1.024    0.000    0.000     0.241   1.000  0.000   0.000    0.241   6.000
#907.000  6.000  342.857  129.403  1176.632  11.000  1.000  25.527   19.542  21.000
# 41.366  0.482    5.063   25.342    73.399   0.586  0.006   1.036    1.812   1.393
#      estlvs
#7.485685e+12
#1.418840e+04
#1.512121e+19
#1.063850e+16
#          mu1      w   ltau   minp  meanp   maxp    sdd      tb
#116223318.084  3.380  0.000  0.209  0.325  0.474  0.116   1.639
#  2064384.000  2.000  0.000  0.000  0.167  0.167  0.000   0.027
#237153924.000  6.000  0.000  0.500  0.500  1.000  0.500  19.277
# 10791450.261  1.046  0.000  0.129  0.099  0.172  0.103   0.563
# real    347m45.542s user    4736m30.372s sys     145m23.707s
# Clearly worse than above; perhaps bad luck?
# Optimising ave+sd again, now starting with the above optimum (rounded), and
# with MAX_TIME 40000s, rep=2000:
# TAU_symmb_7_wdL_avepsd> nomad np2
# 821 4843611.042385   7.0        6.9536     5.5037     0.0045     3.95
# Blackbox evaluations: 1078 Total model evaluations: 92241 Cache hits: 384 Total number of evaluations: 1462
# Rather similar to above.
# Rerunning TAUscan:
# TAU_symmb_7_wdL_avepsd$ time ./TAUscan 7 ../symmb "" wdL hash "7,6.9536,5.5037,0.0045,3.95" 2000 10 all
# 2000 : 1.98041310442789615927e+04 1.71825372196813504092e+06 3.70940920394601094777e+07; 3.28494095604215134244e+06
# real    2m29.849s user    24m28.476s sys     0m3.578s
# Similar to above.
# Testing it:
# 3MOLS/TAU_symmb_7_wdL_avepsd$ time ./laMols 7 ../symmb "" +count dom enu wdL "" "" 1 16 "7,6.9536,5.5037,0.0045,3.95" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu  wdL   asc  relpr   1       64  287305.269  310692405  0  2845683  843327  2002356        0
#     mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
# 836.221  0.682   12.595  125.910   159.930   1.855  0.000   2.046    0.320  10.732
# 574.000  0.000    2.873   61.463     6.709   1.000  0.000   0.020    0.000   0.000
#1104.000  5.000  903.774  134.495  1053.567  10.000  0.000  34.547   20.244  20.000
#  32.527  0.528    3.698    0.963    65.076   0.814  0.000   1.136    0.463   1.543
#    mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
#784.072  1.743    4.474   18.017    44.445   1.233  0.000   0.650    2.669  12.040
#270.000  1.026    0.000    0.000     0.240   1.000  0.000   0.000    0.240   6.000
#907.000  6.000  400.000  134.035  1003.584  10.000  1.000  28.325   19.856  21.000
# 41.108  0.552    4.722   25.317    73.328   0.586  0.006   1.084    1.799   1.390
#      estlvs
#4.548544e+12
#1.423749e+04
#9.103718e+18
#6.433512e+15
#          mu1      w   ltau   minp  meanp   maxp    sdd      tb
# 80407088.258  3.374  0.000  0.208  0.325  0.475  0.117   1.719
#  1999045.000  2.000  0.000  0.000  0.167  0.168  0.000   0.027
#163196172.000  6.000  0.000  0.500  0.500  1.000  0.500  17.533
#  7384716.866  1.043  0.000  0.129  0.099  0.173  0.104   0.579
# real    342m44.330s user    4788m25.278s sys     149m26.752s
# Basically the same as obtained for ave+sd before; so here ave+sd seems
# to perform worse than ave.


# Alternative optimisation on sd:
# TAU_symmb_7_wdL_sd$ nomad np
# 337  1747209.120771   4.601601   0.0001     1.411971   0.0001     2.00819
# Blackbox evaluations: 1070 Total model evaluations: 95132 Cache hits: 333 Total number of evaluations: 1403
# Rerunning TAUscan:
# TAU_symmb_7_wdL_sd$ time ./TAUscan 7 ../symmb "" wdL hash "4.601601,0.0001,1.411971,0.0001,2.00819" 2000 10 all
# 2000 : 7.91633514993036642471e+03 1.26572966642476833965e+06 6.17509844789211209354e+07; 2.70512831742113817836e+06
# real    2m29.354s user    24m30.250s sys     0m3.634s
# These numbers look best yet.
# Testing it:
# 3MOLS/TAU_symmb_7_wdL_sd$ time ./laMols 7 ../symmb "" +count dom enu wdL "" "" 1 16 "4.601601,0.0001,1.411971,0.0001,2.00819" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu  wdL   asc  relpr   1       64  190300.457  229864986  0  1911828  618709  1293119        0
#     mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
# 834.732  0.689   13.141  125.849   157.776   1.849  0.000   1.879    0.333  10.747
# 652.000  0.000    2.902   62.843     6.148   1.000  0.000   0.094    0.000   0.000
#1104.000  4.000  971.429  130.133  1192.580  12.000  0.000  35.565   20.253  18.000
#  34.058  0.535    3.830    0.949    63.653   0.804  0.000   1.143    0.468   1.645
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
#775.007  1.751    5.409   17.223   42.828   1.230  0.000   0.580    2.650  12.098
#270.000  1.029    0.000    0.000    0.240   1.000  0.000   0.000    0.240   6.000
#907.000  6.000  280.000  127.073  982.428  10.000  1.000  30.567   18.938  19.000
# 41.663  0.578    5.870   25.119   73.848   0.592  0.007   1.040    1.877   1.494
#      estlvs
#3.247580e+08
#7.916335e+03
#3.057707e+14
#2.722250e+11
#      mu1      w   ltau   minp  meanp   maxp    sdd      tb
# 9720.363  3.090  0.003  0.206  0.350  0.536  0.145   1.592
# 3059.000  2.000  0.000  0.000  0.167  0.175  0.000   0.260
#14897.000  6.000  0.012  0.500  0.500  0.999  0.499  17.941
#  542.102  0.869  0.001  0.137  0.099  0.160  0.105   0.664
# real    239m34.644s user    3171m40.465s sys     103m37.140s
# Best result for wdL yet (but not as good as rlaMols).

# Alternative optimisation on max:
# TAU_symmb_7_wdL_max$ nomad np
# 722  43574833.08134    5.910021   6.03105    6.981906   0.0001     6.904023
# A termination criterion is reached: Maximum allowed time reached (Base) Success found and opportunistic strategy is used
# Blackbox evaluations: 729 Total model evaluations: 68593 Cache hits: 224 Total number of evaluations: 953
# Rerunning TAUscan:
# TAU_symmb_7_wdL_max$ time ./TAUscan 7 ../symmb "" wdL hash "5.910021,6.03105,6.981906,0.0001,6.904023" 2000 10 all
# 2000 : 1.58149724061496246907e+04 1.84091110072332563993e+06 1.27634867932385437627e+08; 4.42543372753915729072e+06
# real    4m2.257s user    39m33.500s sys     0m9.047s
# Numbers look worse that above.
# Testing it:
# 3MOLS/TAU_symmb_7_wdL_max$ time ./laMols 7 ../symmb "" +count dom enu wdL "" "" 1 16 "5.910021,6.03105,6.981906,0.0001,6.904023" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu  wdL   asc  relpr   1       64  285773.173  313319536  0  2898163  854995  2043168        0
#     mu0  qfppc   pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
# 836.145  0.684    12.634  125.915   160.674   1.858  0.000   2.015    0.321  10.746
# 565.000  0.000     2.902   61.463     5.063   1.000  0.000   0.029    0.000   0.000
#1104.000  5.000  1197.500  134.867  1027.099  10.000  0.000  29.606   20.000  19.000
#  32.845  0.529     4.139    0.973    65.483   0.817  0.000   1.185    0.464   1.535
#    mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
#784.516  1.704    4.966   18.033    44.315   1.233  0.000   0.634    2.642  12.058
#270.000  1.029    0.000    0.000     0.240   1.000  0.000   0.000    0.240   6.000
#907.000  6.000  276.923  127.793  1066.323  10.000  1.000  28.821   20.000  20.000
# 41.365  0.504    5.107   25.328    73.288   0.585  0.006   1.074    1.805   1.379
#      estlvs
#2.640973e+13
#1.323124e+04
#5.395525e+19
#3.774693e+16
#          mu1      w   ltau   minp  meanp   maxp    sdd      tb
# 54759438.903  3.390  0.000  0.209  0.324  0.471  0.115   1.682
#   495440.000  2.000  0.000  0.000  0.167  0.167  0.000   0.037
#112373948.000  6.000  0.000  0.500  0.500  1.000  0.500  18.868
#  5123294.126  1.050  0.000  0.129  0.099  0.171  0.102   0.661
# real    348m50.686s user    4762m53.183s sys     145m23.773s
# Very similar to the three worse runs above.

# Rerunning with version >= 0.99:

# tau-probs with 10000s, rep=1000:
# TAU/symmb_7_wdL_ave$ nomad np
# 449  1529889.832272   4.559999   0.000104   6.640006   0.060001   3.5
# A termination criterion is reached: Maximum allowed time reached (Base) Success found and opportunistic strategy is used
# Blackbox evaluations: 458 Total model evaluations: 44218 Cache hits: 53 Total number of evaluations: 511
# TAU/symmb_7_wdL_ave$ time ./TAUscan 7 ../../symmb "" enu wdL hash "4.559999,0.000104,6.640006,0.060001,3.5" 1000 10 all
# 1000 : 2.07871097518787072058e+04 1.72203029829667626620e+06 6.79529186973404663513e+07; 3.84971818966658985596e+06
# real    1m25.281s user    13m52.627s sys     0m1.896s
# Perhaps the number of bb-evaluations is too low; restarting with 20000s, rep=2000:
# TAU/symmb_7_wdL_ave$ nomad np2
# 1   1687404.64059    4.559999   0.000104   6.640006   0.060001   3.5
# 383  822340.330077   3.375199   0.0001     0.709306   0.0083     0.0001
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 503 Total model evaluations: 48322 Cache hits: 55 Total number of evaluations: 558
# TAU/symmb_7_wdL_ave$ time ./TAUscan 7 ../../symmb "" enu wdL hash "3.375199,0.0001,0.709306,0.0083,0.0001" 2000 10 all
# 2000 : 1.35070109646084650121e+04 8.22340330077425801960e+05 2.08558416405313953946e+07; 1.29450461787169999980e+06
# real    2m41.487s user    26m35.535s sys     0m3.537s
# MOLS> time ./laMols 7 data/SpecsCollection/3MOLS/symmb "" +count dom enu wdL "" "" 1 16 "3.375199,0.0001,0.709306,0.0083,0.0001" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds      lvs          nsel         nsuel
#  7   +count dom enu  wdL   asc  relpr   1       64  122879.554  165106367  0  1406537   916355  4.529915e+00  3.846254e+00
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds  solc       tr  pelvals      dp
#827.89  0.71952   14.096   125.87   159.12   1.8813     0   1.5935  0.35297  11.021
#   537        0   2.8727   62.843   42.857        1     0  0.41314        0       0
#  1104        5   159.57   133.46    880.7        9     0   11.339   22.368      18
#38.724   0.5194   3.3535   1.0304   63.043  0.78789     0  0.73909   0.4715   1.768
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds        solc       tr  pelvals      dp
#768.49   1.7289   5.5002   18.616   46.271   1.2544  6.9842e-05  0.52524   2.7824  12.438
#   270    1.025        0        0  0.23502        1           0        0  0.23502       6
#   906        6   755.56   130.35   991.72       10           1   13.842   19.953      19
#42.405  0.52931   6.1104    26.15   76.748  0.62303   0.0083569  0.85583   1.9714  1.6172
#      estlvs       uestlvs
#1.972008e+07  1.447261e+07
#8.948594e+03  3.600000e+03
#1.662049e+12  9.447840e+09
#3.735942e+09  5.525745e+07
#   dm0        w  ltausp        minp    meanp     maxp       sdd       tb
#3.4808   2.8694  9.1589     0.23754  0.37677  0.54986   0.13851   1.3303
#     0        2       1  1.9244e-07  0.16667  0.17421         0  0.47809
#   439        6   121.8         0.5      0.5  0.99428   0.49428   2.7112
#6.0806  0.81978  3.5899     0.14536  0.10228  0.13262  0.093654   0.2225
# real    134m49.493s user    2047m59.558s sys     42m4.110s

# uni-probs with 10000s, rep=1000:
# TAU/symmb_7_wdL_ave$ nomad nprand
# 307   736028.28       4.08       0.1001     0.8        0.0201     7
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 563 Total model evaluations: 52292 Cache hits: 103 Total number of evaluations: 666
# TAU/symmb_7_wdL_ave$ time ./TAUscan 7 ../../symmb "" enu,rand wdL hash "4.08,0.1001,0.8,0.0201,7" 1000 10 all
# 1000 : 2.70000000000000000000e+03 7.36028279999999999973e+05 1.67961600000000000000e+07; 1.46211400770116061074e+06
# real    1m7.160s user    10m57.266s sys     0m1.765s
# Restarting with 20000s, rep=2000:
# TAU/symmb_7_wdL_ave$ nomad np2rand
# 421 726078.366      4.10992    0.200083   0.746612   0.00015    6.97239
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 661 Total model evaluations: 58204 Cache hits: 214 Total number of evaluations: 875
# TAU/symmb_7_wdL_ave$ time ./TAUscan 7 ../../symmb "" enu,rand wdL hash "4.10992,0.200083,0.746612,0.00015,6.97239" 2000 10 all
# 2000 : 2.70000000000000000000e+03 8.79036858000000000004e+05 9.95328000000000000000e+07; 3.17559108421549677223e+06
# real    2m11.449s user    21m21.313s sys     0m3.470s
# MOLS> time ./laMols 7 ../../symmb "" +count dom enu wdL "" "" 1 16 "4.10992,0.200083,0.746612,0.00015,6.97239" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds      lvs          nsel         nsuel
#  7   +count dom enu  wdL   asc  relpr   1       64  107897.594  171956518  0  1457979   947783  3.855257e+00  4.865748e+00
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds  solc        tr  pelvals      dp
#814.96  0.72132   13.948   126.17   160.06   1.8768     0    1.0367  0.36309  11.181
#   522        0   2.5022   62.843   42.857        1     0  0.007278        0       0
#  1104        4   159.57   135.44   932.01        9     0    13.918   22.644      20
#62.064  0.51995   3.4547    1.567   63.544  0.78008     0    1.1172  0.49588  1.9135
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds        solc       tr  pelvals      dp
# 756.7   1.7344   5.3949   18.762   47.121   1.2568  6.7526e-05  0.34951   2.8065  12.579
#   270    1.025        0        0  0.23502        1           0        0  0.23502       6
#   906        6   755.56   134.86   995.47       10           1   14.195   21.329      21
#62.903  0.54507   6.0748   26.264   77.856  0.62545   0.0082171  0.81017        2  1.7707
#      estlvs       uestlvs
#1.503469e+07  2.338702e+07
#1.010118e+04  2.700000e+03
#2.772495e+11  5.374771e+09
#4.677815e+08  1.111747e+08
#   dm0        w  ltausp        minp    meanp     maxp       sdd        tb
#3.4652   2.8577  7.3758     0.24285   0.3781  0.54687   0.13489   0.87796
#     0        2       1  3.4887e-06  0.16667  0.17686         0  0.011598
#   424        6  26.952         0.5      0.5  0.97675   0.47675    4.8069
#6.0032  0.81503  2.2217     0.14694  0.10207   0.1308  0.093785   0.79894
# real    345m26.810s user    1798m17.605s sys     50m59.528s




# laMols with newv:

# N=7:

# Optimising TAUscan on ave via Nomad (MAX_TIME 40000s, rep=2000):
# TAU_symmb_7_newv_ave> nomad np
# 1 16462218.83587    0          0          0          0          0          0
# 41   315225.907721   0         10        -10          4        -10         10
# 716   297990.827352   0.21       9.99      -9.8        3.99      -9.8        9.8
# Blackbox evaluations: 977 Total model evaluations: 90290 Cache hits: 334 Total number of evaluations: 1311
# Looks very promising.
# Rerunning TAUscan:
# TAU_symmb_7_newv_ave$ time ./TAUscan 7 ../symmb "" newv hash "0.21,9.99,-9.8,3.99,-9.8,9.8" 2000 10 all
# 2000 : 3.48376971753722168712e+03 2.98618840820471308575e+05 1.78857660755591507314e+07; 9.46545103711694365700e+05
# real    2m56.240s user    28m51.743s sys     0m3.667s
# Testing it:
# 3MOLS/TAU_symmb_7_newv_ave$ time ./laMols 7 ../symmb "" +count dom enu newv "" "" 1 16 "0.21,9.99,-9.8,3.99,-9.8,9.8" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu newv   asc  relpr   1       64  110893.205   69944852  0   703311  306411   396900        0
#     mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
# 880.038  0.733   14.706  124.535   167.540   2.041  0.000   2.283    0.459  11.825
# 590.000  0.000    2.555   59.224     7.020   1.000  0.000   0.023    0.000   0.000
#1104.000  3.000  901.887  132.888  1171.067  12.000  0.000  25.073   24.404  19.000
#  44.542  0.486    4.588    1.434    78.813   0.945  0.000   1.316    0.655   1.839
#    mu0  qfppc   pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
#830.874  1.679     3.551   27.075    69.633   1.463  0.000   1.081    3.777  13.513
#270.000  1.036     0.000    0.000     0.243   1.000  0.000   0.000    0.233   8.000
#930.000  6.000  1233.333  130.528  1088.145  11.000  1.000  22.720   30.072  20.000
# 55.630  0.451     7.184   29.860    94.395   0.824  0.013   1.455    2.081   1.545
#      estlvs
#3.926826e+08
#3.483770e+03
#1.402021e+13
#4.485932e+10
#    mu1      w   ltau   minp  meanp   maxp    sdd      tb
#498.020  2.295  0.000  0.342  0.458  0.581  0.115   1.815
#252.000  2.000  0.000  0.000  0.167  0.187  0.000   0.030
#593.000  6.000  0.011  0.500  0.500  0.994  0.494  13.470
# 18.672  0.628  0.000  0.124  0.084  0.117  0.088   0.480
# real    129m55.128s user    1848m13.216s sys     38m2.260s
# Best result obtained yet (leaf-wise; time-wise rlaMols is somewhat better).

# Optimising TAUscan on ave+sd via Nomad (MAX_TIME 20000s, rep=1000):
# TAU_symmb_7_newv_avepsd> nomad np
# 150    822608.461576  -0.04      10         -5          2        -10          6
# 487    799387.88076   -0.03998   10         -5.00005    2.00003   -9.999871   5.999987
# 621    757658.692957  -0.03998   10.0       -5.00005    2.00003   -9.999861   5.999987
# Rerunning TAUscan:
# TAU_symmb_7_newv_avepsd$ time ./TAUscan 7 ../symmb "" newv hash "-0.03998,10.0,-5.00005,2.00003,-9.999861,5.999987" 1000 10 all
# 1000 : 1.28702764025152978036e+04 3.91817360533761674503e+05 8.70306953362918444782e+06; 6.50881586224200673087e+05
# real    1m30.998s user    14m54.633s sys     0m1.831s
# Testing it:
# TAU_symmb_7_newv_avepsd$ time ./laMols 7 ../symmb "" +count dom enu newv "" "" 1 16 "-0.03998,10.0,-5.00005,2.00003,-9.999861,5.999987" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu newv   asc  relpr   1       64  102206.516   69850657  0   687748  296998   390750        0
#     mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
# 874.628  0.723   14.844  124.577  162.174   2.001  0.000   2.128    0.423  12.105
# 658.000  0.000    2.811   58.879   13.674   1.000  0.000   0.020    0.000   0.000
#1104.000  3.000  416.522  127.513  874.634   9.000  0.000  23.729   23.983  19.000
#  33.680  0.488    3.649    1.129   74.280   0.911  0.000   1.279    0.611   1.781
#    mu0  qfppc   pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
#822.763  1.687     3.680   25.488   63.420   1.420  0.000   0.943    3.503  13.814
#270.000  1.027     0.000    0.000    0.240   1.000  0.000   0.000    0.228   9.000
#917.000  6.000  1100.000  126.494  868.743   9.000  1.000  24.789   24.827  20.000
# 42.115  0.469     7.537   29.898   90.290   0.788  0.013   1.364    2.058   1.425
#      estlvs
#1.772336e+06
#1.268052e+04
#2.458910e+10
#4.780978e+07
#    mu1      w   ltau   minp  meanp   maxp    sdd      tb
#495.846  2.316  0.000  0.337  0.454  0.580  0.116   1.756
#252.000  2.000  0.000  0.000  0.167  0.194  0.000   0.028
#593.000  6.000  0.002  0.500  0.500  0.988  0.488  13.639
# 14.999  0.624  0.000  0.124  0.085  0.116  0.087   0.552
# real    124m45.561s user    1703m26.553s sys     38m52.377s
# Slighty better than above.


# Optimising TAUscan on sd via Nomad (MAX_TIME 20000s, rep=1000):
# TAU_symmb_7_newv_sd> nomad np
# 413   506813.883727  -0.381584   7.031967  -8.2719     4.275833  -8.461633   8.1277
# Blackbox evaluations: 677 Total model evaluations: 58626 Cache hits: 164 Total number of evaluations: 841
# Rerunning TAUscan:
# TAU_symmb_7_newv_sd$ time ./TAUscan 7 ../symmb "" newv hash "-0.381584,7.031967,-8.2719,4.275833,-8.461633,8.1277" 1000 10 all
# 1000 : 4.93357556552732145239e+03 4.20762984341510383615e+05 3.25286353920967130634e+07; 1.25432439799751649753e+06
# real    2m24.606s user    23m45.206s sys     0m4.526s
# Here sd is actually quite large.
# Testing it:
# TAU_symmb_7_newv_sd$ time ./laMols 7 ../symmb "" +count dom enu newv "" "" 1 16 "-0.381584,7.031967,-8.2719,4.275833,-8.461633,8.1277" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu newv   asc  relpr   1       64   84767.084   68073424  0   694004  301893   392111        0
#     mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
# 881.702  0.730   14.899  124.458   163.686   2.018  0.000   1.596    0.437  11.979
# 700.000  0.000    2.811   58.199    10.341   1.000  0.000   0.021    0.000   0.000
#1104.000  3.000  564.706  127.062  1066.007  11.000  0.000  13.906   23.983  18.000
#  28.974  0.487    4.107    1.102    75.774   0.922  0.000   0.944    0.626   1.752
#    mu0  qfppc   pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
#833.385  1.660     3.926   26.198   65.458   1.436  0.000   0.727    3.579  13.675
#270.000  1.028     0.000    0.000    0.241   1.000  0.000   0.000    0.227   8.000
#920.000  6.000  1033.333  125.931  914.033   9.000  1.000  12.695   28.300  19.000
# 38.178  0.428     6.132   29.861   91.755   0.802  0.013   1.027    2.079   1.409
#      estlvs
#3.311371e+07
#3.767594e+03
#1.087123e+13
#1.736523e+10
#    mu1      w   ltau   minp  meanp   maxp    sdd     tb
#498.541  2.299  0.002  0.342  0.458  0.580  0.115  1.302
#252.000  2.000  0.000  0.000  0.167  0.187  0.000  0.029
#593.000  6.000  0.060  0.500  0.500  0.983  0.483  2.600
# 13.612  0.625  0.001  0.124  0.084  0.115  0.087  0.381
# real    113m1.563s user    1412m47.097s sys     55m5.622s
# Basically very similar to above.


# Optimising TAUscan on max via Nomad (MAX_TIME 20000s, rep=1000):
# TAU_symmb_7_newv_max> nomad np
# 754    4056106.191612   0.02035    8.025     -9.9945     7.000762  -7.97425    9.999833
# Blackbox evaluations: 1011 Total model evaluations: 88584 Cache hits: 334 Total number of evaluations: 1345
# Rerunning TAUscan:
# TAU_symmb_7_newv_max$ time ./TAUscan 7 ../symmb "" newv hash "0.02035,8.025,-9.9945,7.000762,-7.97425,9.999833" 1000 10 all
# 1000 : 1.75364587345376813712e+04 3.58475544622082449109e+05 4.32873232572826864225e+06; 4.86854058257749930192e+05
# real    1m30.453s user    14m48.787s sys     0m1.689s
# Testing it:
# TAU_symmb_7_newv_max$ time ./laMols 7 ../symmb "" +count dom enu newv "" "" 1 16 "0.02035,8.025,-9.9945,7.000762,-7.97425,9.999833" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu newv   asc  relpr   1       64   87632.372   70835219  0   702624  301119   401505        0
#     mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
# 873.859  0.725   14.818  124.600  162.301   2.001  0.000   1.747    0.422  12.036
# 489.000  0.000    2.811   58.879   11.847   1.000  0.000   0.021    0.000   0.000
#1104.000  4.000  467.647  127.513  883.499   9.000  0.000  12.375   21.543  19.000
#  34.397  0.488    3.329    1.129   74.462   0.910  0.000   0.975    0.611   1.755
#    mu0  qfppc   pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
#822.659  1.673     3.691   25.468   63.209   1.418  0.000   0.775    3.461  13.734
#270.000  1.027     0.000    0.000    0.246   1.000  0.000   0.000    0.228   9.000
#917.000  6.000  1033.333  126.494  885.034   9.000  1.000  11.838   26.867  20.000
# 41.999  0.453     6.301   29.881   90.171   0.786  0.013   1.094    2.049   1.400
#      estlvs
#3.863675e+07
#1.164983e+04
#1.471332e+13
#2.322016e+10
#    mu1      w   ltau   minp  meanp   maxp    sdd     tb
#495.619  2.333  0.001  0.334  0.452  0.579  0.117  1.430
#252.000  2.000  0.000  0.000  0.167  0.185  0.000  0.027
#593.000  6.000  0.040  0.500  0.500  0.979  0.479  2.710
# 15.193  0.642  0.000  0.127  0.087  0.117  0.088  0.330
# real    109m1.731s user    1460m32.387s sys     62m29.879s
# Slightly worse than above (but likely still very similar).

# Rerunning with version >= 0.99:

# tau-probs with 10000s, rep=1000:
# TAU/symmb_7_newv_ave$ nomad np
# 148   204375.171886  -1          8        -10          2        -10          8
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 547 Total model evaluations: 50575 Cache hits: 57 Total number of evaluations: 604
# TAU/symmb_7_newv_ave$ time ./TAUscan 7 ../../symmb "" enu newv hash "-1,8,-10,2,-10,8" 1000 10 all
# 1000 : 3.15919655671359847982e+03 2.04375171885804535805e+05 8.21457976031847265449e+06; 5.88585185513599986905e+05
# real    1m23.501s user    13m40.225s sys     0m1.750s
# Restarting with 20000s, rep=2000:
# TAU/symmb_7_newv_ave$ nomad np2
# 565 237917.045371  -0.96       8.18     -10.0        1.890001 -10.0        8.58
# A termination criterion is reached: Maximum allowed time reached (Base) Success found and opportunistic strategy is used
# Blackbox evaluations: 574 Total model evaluations: 50429 Cache hits: 181 Total number of evaluations: 755
# TAU/symmb_7_newv_ave$ time ./TAUscan 7 ../../symmb "" enu newv hash "-0.96,8.18,-10.0,1.890001,-10.0,8.58" 2000 10 all
# 2000 : 3.14226284611996397222e+03 2.89355736411225778170e+05 2.33655245253110099475e+07; 1.22231686713566309322e+06
# real    2m46.758s user    27m30.172s sys     0m3.550s
# MOLS$ time ./laMols 7 data/SpecsCollection/3MOLS/symmb "" +count dom enu newv "" "" 1 16 "-0.96,8.18,-10.0,1.890001,-10.0,8.58" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds      lvs          nsel         nsuel
#  7   +count dom enu newv   asc  relpr   1       64  126235.114   68361823  0   717948   400877  1.647166e+13  4.928928e+00
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds  solc        tr  pelvals      dp
#880.76  0.73404   14.757   124.53   166.88   2.0373     0     2.451  0.45717  11.803
#   590        0   2.3438   63.797   14.219        1     0  0.016359        0       0
#  1104        3   396.69   133.22     1066       11     0    23.294   23.983      19
# 43.52  0.48552   3.6278   1.4144   78.574  0.94017     0    1.4925  0.65855  1.8282
#   mu0    qfppc  pprunes  pmprune  pprobes   rounds        solc      tr  pelvals      dp
#   834   1.6322   4.1019   27.488   70.144   1.4642  0.00015965  1.1851    3.737  13.497
#   270   1.0227        0        0  0.23952        1           0       0  0.22779       8
#   920        6      660   125.42   1087.4       11           1  21.572   27.218      20
#53.455  0.40117   5.8659   29.794   93.999  0.82141    0.012634  1.6004   2.1235  1.5232
#      estlvs       uestlvs
#1.087642e+32  1.013992e+07
#3.142263e+03  1.228800e+04
#1.032820e+37  3.439854e+09
#2.344744e+34  8.062101e+07
#   dm0        w      ltausp        minp     meanp     maxp      sdd        tb
#5.0072   2.2643       22632     0.35506   0.46285  0.57568  0.10644    1.9396
#     0        2      1.0692  1.2765e-30   0.16667  0.19229        0  0.020404
#   505        6  2.2904e+05         0.5       0.5  0.99321  0.49321      4.06
#8.7308  0.60388       35484     0.12134  0.080614  0.10984  0.08412   0.58647
# real    149m56.137s user    2103m55.137s sys     33m20.394s
# Enormous nsel.

# uni-probs with 10000s, rep=1000:
# TAU/symmb_7_newv_ave$ nomad nprand
# 216   348162.528     -0.29      10         -7.72       3.24      -7.5        6.5
# A termination criterion is reached: Maximum allowed time reached (Base) No more points to evaluate
# Blackbox evaluations: 560 Total model evaluations: 50502 Cache hits: 83 Total number of evaluations: 643
# TAU/symmb_7_newv_ave$ time ./TAUscan 7 ../../symmb "" enu,rand newv hash "-0.29,10,-7.72,3.24,-7.5,6.5" 1000 10 all
# 1000 : 1.22880000000000000000e+04 3.48162527999999999992e+05 1.25829120000000000000e+07; 5.89494505695636283406e+05
# real    1m22.201s user    13m31.270s sys     0m1.828s
# Restarting with 20000s, rep=2000:
# TAU/symmb_7_newv_ave$ nomad np2rand
# running on server2 XXX


# N=10:

# Optimising TAUscan on ave via Nomad (MAX_TIME 40000s, rep=2000;
# version >= 0.99):
# TAU/symmb_10_newv_ave> nomad np
# 1 377324436880762449565563660892372992.0 0 0 0 0 0 0 0 0 0
# A termination criterion is reached: Maximum allowed time reached (Base) Success found and opportunistic strategy is used
# Best feasible solution:     #102 ( -0 4 -7 8 -9 -8 -10 3 -7 )
# f = 1451880129542205387649734684966912.0
# Blackbox evaluations: 31
# TAU/symmb_10_newv_max$ time ./TAUscan 10 ../../symmb "" enu newv hash "-0,4,-7,8,-9,-8,-10,3,-7" 2000 80 all
# 2000 : 2.83912900566060194490e+24 1.45188012954220539173e+33 5.54231639385241807892e+35; 1.56667555335921754501e+34
# real    31m53.490s user    1339m16.326s sys     1177m38.250s
# Another search, starting with the old optimum (MAX_TIME 100000s, rep=2000):
# TAU/symmb_10_newv_ave> time nomad np2
# A termination criterion is reached: Maximum allowed time reached (Base) Success found and opportunistic strategy is used
# Best feasible solution:     #169 ( 0 -2 9 2 -9 -2 5 -9 -1 )     Evaluation OK    f = 7790233984977144108776685568.0
# Blackbox evaluations: 63
# real    1750m42.961s user    80679m47.380s sys     67781m20.609s
# TAU/symmb_10_newv_max$ time ./TAUscan 10 ../../symmb "" enu newv hash "0,-2,9,2,-9,-2,5,-9,-1" 2000 80 all
# 2000 : 9.35264723437571474688e+16 7.79023398497714431225e+27 4.99969367872723515548e+30; 1.46469846869302297927e+29
# real    34m54.343s user    1227m15.290s sys     1523m4.981s
# TAU/symmb_10_newv_max$ time ./TAUscan 10 ../../symmb "" enu newv hash "0,-2,9,2,-9,-2,5,-9,-1" 10000 80 all
# 10000 : 9.35264723437571474688e+16 1.99227559427705572475e+28 6.25389571119050894860e+31; 6.69526411004975021803e+29
# real    173m22.212s user    6132m46.731s sys     7636m39.459s



squares A B C AB AC BC
ls A B C AB AC BC
red A
rred B C
wcred B
rprod B AB A
rprod C AC A
rprod C BC B
