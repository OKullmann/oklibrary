# Counts for N >= 2:
# 0, 0, 1, 8, 0, 64

# QUESTION: also for C there should be additional symmetry-breaking?
# "wcred C" is wrong (unsolvable for N=4).



# gcMols:

# N=7:

# Old run:
# MOLS> time ./gcMols 7 data/SpecsCollection/3MOLSsymmb "" +count dom enumbr maxdegdom desc 12
# aborted after 6h wallclock without finding a solution. New run:
# MOLS> time ./gcMols 7 data/SpecsCollection/3MOLSsymmb "" +count dom enu maxdegdom desc 1 12
# aborted after 8 min wallclock-time without finding a solution.



# rlaMols:

# N=7:

# MOLS> time ./rlaMols 7 data/SpecsCollection/3MOLS/symmb "" +count dom enu maxdegdom "" "" 1 16 ""
#  N       rt  pl  bt        bv   bo    lar gcd     satc           t        ppc st      nds    inds      lvs
#  7   +count dom enu maxdegdom  asc  relpr   1       64   90238.159  128552167  0  1546430  660303   886127
#     mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
# 871.530  0.444   20.566  124.000  126.086   1.497  0.000   1.480    0.163  15.908
# 588.000  0.000    2.811   74.689   74.278   1.000  0.000   0.075    0.000   0.000
#1104.000  3.000   84.493  129.762  757.654   8.000  1.000  10.599   28.631  29.000
#  38.222  0.510    5.941    0.523   39.328   0.630  0.003   0.615    0.352   2.857
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
#821.221  1.897    1.454   17.407   29.456   1.123  0.000   0.391    2.414  18.636
#270.000  1.065    0.000    0.000    0.247   1.000  0.000   0.000    0.247  11.000
#902.000  5.000  119.403  126.579  777.803   8.000  1.000  11.219   24.362  30.000
# 35.200  0.403    2.728   23.048   46.710   0.408  0.008   0.611    1.302   2.743
# real    115m20.932s user    1503m58.171s sys     116m45.786s



# laMols with wdL:

# N=7:

# Optimising TAUscan on ave via Nomad (MAX_TIME 10000s, rep=1000):
# TAU_symmb_7_wdL_ave> nomad np
# 490  1214577.907397   7          1.100002   2.099992   0.0001     0.100012
# Blackbox evaluations: 529 Total model evaluations: 48282 Cache hits: 24 Total number of evaluations: 553
# Reproduction:
# TAU_symmb_7_wdL_ave$ > time ./TAUscan 7 ../symmb "" wdL hash "7,1.100002,2.099992,0.0001,0.100012" 1000 10 all
# 1000 : 1.32682356424083081254e+04 1.65880469067761993540e+06 8.87526403909107470317e+07; 4.42797351995885024053e+06
# real    1m18.259s user    12m45.314s sys     0m1.653s
# Reproduction failed.
# Testing it:
# 3MOLS/TAU_symmb_7_wdL_ave$ time ./laMols 7 ../symmb "" +count dom enu wdL "" "" 1 16 "7,1.100002,2.099992,0.0001,0.100012" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu  wdL   asc  relpr   1       64  206611.863  262756875  0  2256403  707199  1549204        0
#     mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
# 833.320  0.679   12.899  125.915  158.190   1.843  0.000   1.694    0.328  10.764
# 551.000  0.000    2.873   60.796    7.825   1.000  0.000   0.049    0.000   0.000
#1104.000  5.000  810.169  134.286  953.446   9.000  0.000  29.991   25.000  18.000
#  34.580  0.527    4.013    0.951   64.251   0.804  0.000   1.006    0.479   1.613
#    mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
#775.700  1.775    4.659   17.320   43.166   1.227  0.000   0.527    2.668  12.106
#270.000  1.020    0.000    0.000    0.244   1.000  0.000   0.000    0.244   6.000
#907.000  6.000  400.000  127.994  958.419   9.000  1.000  25.111   20.970  19.000
# 42.694  0.614    5.082   25.064   73.545   0.587  0.006   0.929    1.852   1.466
#      estlvs
#6.030184e+09
#9.666645e+03
#6.025207e+15
#5.469587e+12
#       mu1      w   ltau   minp  meanp   maxp    sdd      tb
#154735.511  3.191  0.000  0.209  0.340  0.511  0.133   1.442
# 34571.000  2.000  0.000  0.000  0.167  0.177  0.000   0.063
#268851.000  6.000  0.000  0.500  0.500  0.990  0.490  20.690
# 11678.796  0.932  0.000  0.133  0.098  0.173  0.109   0.559
# real    262m20.139s user    3443m31.875s sys     145m33.751s
# Considerably worse than rlaMols.

# Optimising TAUscan on ave+sd via Nomad (MAX_TIME 10000s, rep=1000):
# TAU_symmb_7_wdL_avepsd> nomad np
# 423  4485388.45589    7          7.0        6.000001   0.0001     5.1
# Blackbox evaluations: 526 Total model evaluations: 50360 Cache hits: 67 Total number of evaluations: 593
# Reproduction:
# TAU_symmb_7_wdL_avepsd$ time ./TAUscan 7 ../symmb "" wdL hash "7,7.0,6.000001,0.0001,5.1" 1000 10 all
# 1000 : 1.41884047413830706290e+04 2.12834580793314783455e+06 8.18188132397274710383e+07; 5.63517297822012325742e+06
# real    1m15.117s user    12m18.977s sys     0m1.660s
# Reproduction failed; values worse than above.
# Testing it:
# 3MOLS/TAU_symmb_7_wdL_avepsd$ time ./laMols 7 ../symmb "" +count dom enu wdL "" "" 1 16 "7,7.0,6.000001,0.0001,5.1" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu  wdL   asc  relpr   1       64  284190.346  311637216  0  2869012  848730  2020282        0
#     mu0  qfppc  pprunes  pmprune  pprobes  rounds   solc      tr  pelvals      dp
# 836.153  0.683   12.628  125.913  160.498   1.857  0.000   1.957    0.321  10.736
# 574.000  0.000    2.873   63.033    6.582   1.000  0.000   0.021    0.000   0.000
#1104.000  5.000  917.308  134.495  973.436  10.000  0.000  28.300   23.659  20.000
#  32.776  0.529    3.888    0.970   65.408   0.816  0.000   1.094    0.465   1.546
#    mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
#784.225  1.698    4.872   18.017    44.322   1.233  0.000   0.618    2.639  12.042
#270.000  1.024    0.000    0.000     0.241   1.000  0.000   0.000    0.241   6.000
#907.000  6.000  342.857  129.403  1176.632  11.000  1.000  25.527   19.542  21.000
# 41.366  0.482    5.063   25.342    73.399   0.586  0.006   1.036    1.812   1.393
#      estlvs
#7.485685e+12
#1.418840e+04
#1.512121e+19
#1.063850e+16
#          mu1      w   ltau   minp  meanp   maxp    sdd      tb
#116223318.084  3.380  0.000  0.209  0.325  0.474  0.116   1.639
#  2064384.000  2.000  0.000  0.000  0.167  0.167  0.000   0.027
#237153924.000  6.000  0.000  0.500  0.500  1.000  0.500  19.277
# 10791450.261  1.046  0.000  0.129  0.099  0.172  0.103   0.563
# real    347m45.542s user    4736m30.372s sys     145m23.707s
# Clearly worse than above; perhaps bad luck?
# Optimising ave+sd again, now starting with the above optimum (rounded), and
# with MAX_TIME 40000s, rep=2000:
# TAU_symmb_7_wdL_avepsd> nomad np2
# 821 4843611.042385   7.0        6.9536     5.5037     0.0045     3.95
# Blackbox evaluations: 1078 Total model evaluations: 92241 Cache hits: 384 Total number of evaluations: 1462
# Rather similar to above.
# Rerunning TAUscan:
# TAU_symmb_7_wdL_avepsd$ time ./TAUscan 7 ../symmb "" wdL hash "7,6.9536,5.5037,0.0045,3.95" 2000 10 all
# 2000 : 1.98041310442789615927e+04 1.71825372196813504092e+06 3.70940920394601094777e+07; 3.28494095604215134244e+06
# real    2m29.849s user    24m28.476s sys     0m3.578s
# Similar to above.
# Testing it:
# 3MOLS/TAU_symmb_7_wdL_avepsd$ time ./laMols 7 ../symmb "" +count dom enu wdL "" "" 1 16 "7,6.9536,5.5037,0.0045,3.95" "" ""
#  N       rt  pl lbt  dis   lbo    lar gcd     satc           t        ppc st      nds    inds      lvs     plvs
#  7   +count dom enu  wdL   asc  relpr   1       64  287305.269  310692405  0  2845683  843327  2002356        0
#     mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
# 836.221  0.682   12.595  125.910   159.930   1.855  0.000   2.046    0.320  10.732
# 574.000  0.000    2.873   61.463     6.709   1.000  0.000   0.020    0.000   0.000
#1104.000  5.000  903.774  134.495  1053.567  10.000  0.000  34.547   20.244  20.000
#  32.527  0.528    3.698    0.963    65.076   0.814  0.000   1.136    0.463   1.543
#    mu0  qfppc  pprunes  pmprune   pprobes  rounds   solc      tr  pelvals      dp
#784.072  1.743    4.474   18.017    44.445   1.233  0.000   0.650    2.669  12.040
#270.000  1.026    0.000    0.000     0.240   1.000  0.000   0.000    0.240   6.000
#907.000  6.000  400.000  134.035  1003.584  10.000  1.000  28.325   19.856  21.000
# 41.108  0.552    4.722   25.317    73.328   0.586  0.006   1.084    1.799   1.390
#      estlvs
#4.548544e+12
#1.423749e+04
#9.103718e+18
#6.433512e+15
#          mu1      w   ltau   minp  meanp   maxp    sdd      tb
# 80407088.258  3.374  0.000  0.208  0.325  0.475  0.117   1.719
#  1999045.000  2.000  0.000  0.000  0.167  0.168  0.000   0.027
#163196172.000  6.000  0.000  0.500  0.500  1.000  0.500  17.533
#  7384716.866  1.043  0.000  0.129  0.099  0.173  0.104   0.579
# real    342m44.330s user    4788m25.278s sys     149m26.752s
# Basically the same as obtained for ave+sd before; so here ave+sd seems
# to perform worse than ave.


# Alternative optimisation on sd:
# TAU_symmb_7_wdL_sd$ nomad np
# 337  1747209.120771   4.601601   0.0001     1.411971   0.0001     2.00819
# Blackbox evaluations: 1070 Total model evaluations: 95132 Cache hits: 333 Total number of evaluations: 1403
# Rerunning TAUscan:
# TAU_symmb_7_wdL_sd$ time ./TAUscan 7 ../symmb "" wdL hash "4.601601,0.0001,1.411971,0.0001,2.00819" 2000 10 all
# 2000 : 7.91633514993036642471e+03 1.26572966642476833965e+06 6.17509844789211209354e+07; 2.70512831742113817836e+06
# real    2m29.354s user    24m30.250s sys     0m3.634s
# These numbers look best yet.
# Testing it:
# 3MOLS/TAU_symmb_7_wdL_sd$ time ./laMols 7 ../symmb "" +count dom enu wdL "" "" 1 16 "4.601601,0.0001,1.411971,0.0001,2.00819" "" ""
# running on server2 XXX


# Alternative optimisation on max:
# TAU_symmb_7_wdL_max$ nomad np XXX
# running on server XXX



# laMols with newv:

# N=7:

# Optimising TAUscan on ave via Nomad (MAX_TIME 40000s, rep=2000):
# TAU_symmb_7_newv_ave> nomad np
# running on server2 XXX



squares A B C AB AC BC
ls A B C AB AC BC
red A
rred B C
wcred B
rprod B AB A
rprod C AC A
rprod C BC B
