#!/usr/bin/env bash
# Oleg Zaikin, 28.12.2020 (Swansea)
# Copyright 2020 Oliver Kullmann
# This file is part of the OKlibrary. OKlibrary is free software; you can redistribute
# it and/or modify it under the terms of the GNU General Public License as published by
# the Free Software Foundation and included in this library; either version 3 of the
# License, or any later version. */

# USAGE:

# Call_LSRG

# runs LSRG with parameters '10 1 3,2,1 out_lsrg' k times

# For changing k=1000 (the default), use e.g.
# k=5 ./Call_LSRG

# TODOS:
# A proper C++ program is needed, like the other Timing-programs.
# Calling an application has too much overhead, but one needs to
# use the C++ components directly.


program="Call_LSRG"
version="0.0.2"

: ${k:=1000}
: ${progr:="./LSRG"}
: ${progargs_o:="10 1 3,2,1 -out_lsrg"}
: ${progargs_v:="-v"}

if [[ $# == 1 && $1 == "-v" ]]; then
  $progr $progargs_v
  exit 0
fi

for ((i=0; i < k; ++i)); do
  $progr $progargs_o;
done
